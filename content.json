{"meta":{"title":"夏汉林","subtitle":"蓝天白云下的细羽鸽子","description":"","author":"夏汉林","url":"http://xiahanlin1993.github.io","root":"/"},"pages":[{"title":"","date":"2022-10-10T02:53:47.819Z","updated":"2022-10-10T02:47:43.319Z","comments":true,"path":"baidu_verify_code-mqNlV1Cmvo.html","permalink":"http://xiahanlin1993.github.io/baidu_verify_code-mqNlV1Cmvo.html","excerpt":"","text":"746bb02d9f74abd7d8a20a7ce132d98c"},{"title":"about","date":"2018-09-30T09:25:30.000Z","updated":"2022-10-09T14:30:21.995Z","comments":true,"path":"about/index.html","permalink":"http://xiahanlin1993.github.io/about/index.html","excerpt":"","text":""},{"title":"friends","date":"2018-12-12T13:25:30.000Z","updated":"2022-10-11T13:34:28.503Z","comments":true,"path":"friends/index.html","permalink":"http://xiahanlin1993.github.io/friends/index.html","excerpt":"","text":"下面是我个人收藏的学者个人主页！（按首字母顺序排列） 一、宏观经济学领域二、计量经济学"},{"title":"categories","date":"2018-09-30T09:25:30.000Z","updated":"2022-10-09T14:28:38.342Z","comments":true,"path":"categories/index.html","permalink":"http://xiahanlin1993.github.io/categories/index.html","excerpt":"","text":""},{"title":"tags","date":"2018-09-30T10:23:38.000Z","updated":"2022-10-09T14:30:06.640Z","comments":true,"path":"tags/index.html","permalink":"http://xiahanlin1993.github.io/tags/index.html","excerpt":"","text":""},{"title":"resource","date":"2022-10-11T08:30:15.000Z","updated":"2023-02-14T05:27:29.559Z","comments":true,"path":"resource/index.html","permalink":"http://xiahanlin1993.github.io/resource/index.html","excerpt":"","text":"一、网站（一）在线数据网站1.科宽: 郑挺国教授开发的市场信号在线监测网站，包括指数、股票、基金、外汇、经济、房价等数据，使用指南。 指数：系统风险、沪深大盘、行业指数、商品期货、全球股指 股票：沪市、深市、创业板、港股、美股 基金：混合型、指数型、债券型、其他 外汇：货币汇率、虚拟货币 经济：中国经济、地区经济、行业经济、世界经济 房价：二手房价格（东中西部） 2.中国银行业数据库 | China Banking Database 请关注CBD微信公众号：CBD数据库 “中国银行业数据库”（China Banking Database，简称CBD）旨在构建覆盖中国商业银行业整体的大样本、微观数据库，服务于各界对中国银行业开展深入研究。自2015年项目启动以来，已取得丰富的基础成果，覆盖银行数量超过1000家，最长期限超过20年。由于一系列内外部原因，CBD数据库目前并未公开开放、自由使用，所有学术界、政策界、业界的使用均需取得CBD项目组授权。若有意使用该数据库，请直接联系项目组。未经授权而使用CBD数据形成的成果，均涉嫌侵犯知识产权，CBD项目组保留进一步追责的权利。 其他银行数据库常规的中国商业银行微观数据来源：Bankscope/Bankfocus，CSMAR，WIND，CNRDS CBD极简介绍PPT，2021.7.25 [ CBD介绍 ] CBD银行样本覆盖情况 2023-02-06 银行总数（含停业） Num. Banks (with exits) 营业银行数 Num. Banks (operating) CBD涵盖机构数 CBD Covered Banks CBD涵盖营业机构数 CBD Banks (operating) CBD银行-年份样本数 CBD Bank-Year Obs. 政策性及国有大型银行 Policy and State-owned Banks 9 9 9 9 161 股份制银行 Joint Stock Banks 12 12 12 12 227 城商行（含住房储蓄银行） City Commercial Banks (with housing savings bank) 156 126 155 125 2021 农商行（含农合行） Rural Commercial Banks (with Rural Cooperative Banks) 1665 1629 1088 1059 6265 农信社 Rural Credit Unions 544 544 123 114 577 村镇银行 Rural Banks 1645 1645 388 388 1082 民营银行 Private Banks 19 19 19 19 93 外资银行 Foreign Banks 43 41 43 41 464 总计 Total 4093 4025 1837 1767 10890 二、书籍（一）教材1、让.梯若尔《公司金融理论》 2、让.梯若尔《产业组织理论》 3、卡尔·沃什《货币理论与政策》-上财版 （二）专著1、余永定《见证失衡——双顺差、人民币汇率和美元陷阱》 2、温铁军等《八次危机：中国的真实经验（1949-2009）》 （三）工具书1、李春涛、张璇《随机模拟与金融数据处理Stata教程》 2、陈强《高级计量经济学及Stata应用-第2版》 3、李向阳《动态随机一般均衡（DSGE）模型：理论、方法和Dynare实践》 三、课程与讲义(一) Dingming Liu - XMU-SOE1、Advanced Topics in Macro: Fiscal Policies, Fall 2015(1) Lecture Notes by Evi Pappa: Empirical Evidence pdf Revenue Shocks pdf Fiscal Shocks in an Open Economy pdf Fiscal Shocks in RBC Models pdf Fiscal Shocks in Open Economy Models pdf1 pdf2 Models with Labor Market Frictions pdf (2) Lecture Notes by Giovanni Rico: Introduction pdf Empirics pdf Theory pdf Fiscal Foresight pdf 2.Derivatives Analysis (SAP), Spring 2018Syllabus doc Lecture 1 Introduction ppt Lecture 2 Mechanics of Futures Markets ppt上海期货交易所黄金期货合约：link大连交易所玉米合约：linkThe Furture Market （Reference only） Lecture 3 Hedging Strategies Using Futures ppt Lecture 4 Interest Rates ppt Lecture 5 Determination of Forward and Futures Prices pptMargin trading and short selling (融资融券) in China link Lecture 6 Interest Rate Futures pptUnderstanding U.S. Government Securities Quotes link2013年中国国债期货时隔18年后重启 linkU.S. treasury bond futures contract specs linkUnderstanding Treasury Futures by CME group linkUnderstanding Eurodollar Futures by CME group link Lecture 7 Swaps ppt Lecture 8 Mechanics of Options Markets ppt Lecture 9 Properties of Stock Options ppt Interesting Readings Check the following websites if you are interested in futures:Chicago Mercantile ExchangeIntercontinental Exchange data网站1 data网站2 了解中国衍生品市场的发展 http://www.zhihu.com/question/21691352/answer/23205199 （二）刘岩-武汉大学1、PhD Micro 2022（1）课程大纲 [ pdf ] （2）课程内容 数学基础提要 [ Lecture 0 ] 经典理论：消费者、厂商与一般均衡 [ Lecture 1 ] 动态随机一般均衡模型 [ Lecture 2 ] 不完全市场一般均衡模型 [ Lecture 3 ] 异质性信息与一般均衡模型 [ Lecture 4 ] 非合作博弈基础 [ Lecture 5 ] 不完美信息扩展博弈 [ Lecture 6 ] 逆向选择的理论与应用 [ Lecture 7 ] 道德风险与激励合约 [ Lecture 8 ] 企业理论与不完全合约 [ Lecture 9 ] 市场与政府 [ Lecture 10 ] （3）课程考核——撰写一份论文研究计划，要求如下： 标题应为“关于XXX的研究计划”，写清姓名 提出明确的研究问题，阐述该问题的理论意义以及可能的政策意义 注意，凡研究必有理论意义 列出5篇关键的中文参考文献及5篇关键的英文参考文献 注意，参考文献务必是期刊论文，且核心参考文献应当具备广泛认可的影响力，包括但不限于顶刊、高引用、可进入教科书的经典文献 具体陈述研究问题的理论逻辑 用文字清晰说明研究的主要理论逻辑框架，包括基础假设，推理逻辑，以及最终可以表示为变量X与Y间逻辑关系的命题 注意，请说明X与Y的逻辑关系是基于个体的最优化推理，还是基于市场均衡的联系 如果含有理论模型，则需对4中细节进行补充，并将模型基本设定数理化，但不必写出完整的数理推导过程及结论 如果含有实证研究，请说明拟采用的数据及数据可得性、可靠性，拟采用数据的结构（时序、截面、面板等），请具体写出拟使用的实证模型（线性回归、离散选择等）及估计方法，基准模型考虑何种标准误计算方法（稳健或聚类及层级），可能出现的内生性问题，预计将使用何种因果识别方法（IV、DID、RD等）减缓内生性问题的影响，以及该识别方法的合理性、实证模型及额外数据变量（如IV），准备考虑的稳健性检验 研究的预期结论，相对文献的贡献，预期结论的经济理论与政策显著性 预期投稿期刊，并对照近期该刊具体的发表论文，论证研究计划最终产出的论文可以达到该刊刊用标准 字数4000-5000 请用WORD撰写，A4纸张，正文5号字体，中文为宋体，英文为Times New Roman，1.2倍行距，数学公式用WORD自带公式编辑器输入（避免自行使用正常文本斜体输入数学字母及公式），参考文献排版按照《经济研究》规范 2、金融博士方法论专题2022模块一：公司金融实证方法授课人：刘岩；第三周开始，共计5次课 金融实证研究的基础问题，课件 [ slides ] 外生变动与工具变量回归，课件 [ slides ]；临时改为9.26中午12:30-3:30上课，地点不变 固定效应与面板回归，课件 [ slides ] 双重差分，课件 [ slides ] 断点回归，课件 [ slides ] 参考教材： 邱嘉平（2020），《因果推断实用计量方法》，上海财经大学出版社 [ 京东 ] 指定阅读文献： Roberts, M. R., and T. M. Whited. 2013. Endogeneity in Empirical Corporate Finance. Constantinides, G. M., M. Harris, and R. M. Stulz (eds.), Handbook of the Economics of Finance. Oxford: Elsevier. [ pdf ]【主要课程教学内容】 Kahn, R. J., and T. M. Whited. 2018. Identification Is Not Causality, and Vice Versa. Review of Corporate Finance Studies 7:1–21. [ pdf ]【区分识别与因果推断】 Mitton, T. 2022a. Methodological Variation in Empirical Corporate Finance. Review of Financial Studies 35:527–575. [ pdf ]【回归调结果问题】 Mitton, T. 2022b. Economic Significance in Corporate Finance. Review of Corporate Finance Studies forthcoming. [ pdf ]【回归系数经济显著性问题】 Jiang, W. 2017. Have Instrumental Variables Brought Us Closer to the Truth. Review of Corporate Finance Studies 6:127–140. [ pdf ]【工具变量问题】 Rajan, R. G., and L. Zingales. 1998. Financial Dependence and Growth. American Economic Review 88:559–586. [ pdf ]【实证研究范例】 Cameron, A. C., and D. L. Miller. 2015. A Practitioner’s Guide to Cluster-Robust Inference. Journal of Human Resources 50:317–372. [ pdf ]【多元聚类标准误说明】 Roodman, D. 2009. A Note on the Theme of Too Many Instruments. Oxford Bulletin of Economics and Statistics 71:135–158. [ pdf ]【动态面板GMM应用注意事项】 Olden, A., and J. Moen. 2020. The Triple Difference Estimator. http://ssrn.com/abstract=3582447. [ pdf ]【三重差分的识别条件及平行趋势检验】 Jayaratne, J., and P. E. Strahan. 1996. The Finance-Growth Nexus: Evidence from Bank Branch Deregulation. Quarterly Journal of Economics111:639–670. [ pdf ]【多期DID范例】 Chen, Ebenstein, Greenstone, and Li. 2013. Evidence on the impact of sustained exposure to air pollution on life expectancy from China’s Huai River policy. PNAS 110(32):12936–12941. [ pdf ]【地理界限RDD范例】 T. Chen, Y. Huang, C. Lin, and Z. Sheng. 2022. Finance and Firm Volatility: Evidence from Small Business Lending in China. Management Science 68(3):2226-2249. [ pdf ]【评分界限RDD范例】 模块二：实证资产定价与机器学习方法授课人：李斌；第6次课 模块三：DSGE进阶专题授课人：刘岩，王胜，熊琛，杨中超；第7-14次课，共8次课，每专题2次课 ——DSGE入门：参考熊琛春季学期硕士《动态优化》课程以及经济波动与增长论坛暑期课程（http://www.liuyanecon.com/efgchina/#2022ss） 开放宏观DSGE模型：王胜 金融摩擦与异质性主体模型：熊琛 信息冲击与信息摩擦：杨中超 中国宏观经济数据、特征与基础DSGE建模：刘岩 3、博士-金融中介理论2021教科书 主要教科书为：Xavier Freixas and Jean-Charles Rochet (2008) Microeconomics of Banking , 2nd edition, Cambridge: The MIT Press. 中译本：微观银行经济学（第二版），2014，北京：中国人民大学出版社 微观实证的参考书为：Hans Degryse, Moshe Kim, and Steven Ongena (2009) Microeconometrics of Banking: Methods, Applications, and Results , New York: Oxford University Press. 中译本：微观银行计量经济学，2018，厦门：厦门大学出版社 课程内容本课程将以金融中介理论为基础，前半部分选读Freixas and Rochet (2008)的主要内容，每次两人主讲，各准备80分钟的汇报PPT，40页左右；后半部分选读前沿文献，每次两人，各一篇论文，具体论文待定 9月27日：课程阅读内容分配 课件：pdf 下载 10月11日：FR第2 – 3章 10月18日：FR第4 – 5章 10月25日：FR第6 – 7章 11月1日：FR第8 – 9章 注意事项 使用PPT模板 Download ；学术报告规范 Link Download 4、PhD Micro 2017（1）课程大纲 [ pdf ] （2）课程内容 数学基础提要 [ lecture0 ] 微观经济学经典理论 [ lecture1 ] 动态随机一般均衡模型基础 [ lecture2 ] 完全市场动态随机一般均衡 [ lecture3 ] 不完全市场动态随机一般均衡 [ lecture4 ] 异质信息与一般均衡 [ lecture5 ] 非合作博弈基础 [ lecture6 ] 不完美信息扩展博弈 [ lecture7 ] 逆向选择理论与应用 [ lecture8 ] 道德风险与激励合约 [ lecture9 ] 最优债务合约 [ lecture10 ] 不完全合约及企业理论 [ lecture11 ] （3）作业 hw1，solution1 hw2，solution2 hw3，solution3 hw4 hw5 hw6 hw7 hw8 hw9 hw10 hw11 4、PhD DSGE 2017 课程大纲 [ DSGE_syllabus_2017 ] 第一讲：刘岩，DSGE介绍，课件 [ pdf ] 第二讲：曾涛，DSGE Bayes方法 [ pdf ] 与Dynare使用 [ pdf ] 第三讲：侯成琪，New Keynesian DSGE [ pdf ]，脉冲响应示例 [ pdf ] 第四讲：王胜，开放经济 DSGE [ pdf ]，脉冲响应示例 [ pdf ] 第五讲（2016）：葛新宇，DSGE与金融中介 [ pdf ] 5、Macro reading group本学期宏观讨论班将以HANK为主题，每两周周一下午2点半在金融系会议室（B255）进行。由于技术性较强，面向对象为金融系教师和博士生；本科、硕士有兴趣旁听者请提前向我邮件申请。 Learn how to write academic presentation slides [ my own introduction link ] by using a PPT template [ sample file link ] or a LaTeX beamer template [ sample file link ] 讨论班安排 9月28日，刘岩，报告内容：RANK存在问题，TANK介绍；参考资料 Bilbiie-THANK Download 10月12日，刘岩，报告内容：THANK介绍；参考资料 Bilbiie-THANK Download 10月27日，熊琛，报告内容：Bewley模型；参考资料 pdf Download 11月9日，熊琛，报告内容：Krusell-Smith模型；参考资料 pdf Download 12月3日，周上尧，报告内容：Bayer, Born, and Luetticke (2020)，HANK版Smets and Wouters (2007)；参考资料 pdf Download 12月14日，周上尧，报告内容：Bayer and Luetticke (2020)，离散时间HANK近似求解方法；参考资料 pdf Download 1月13日，邹振涛，报告内容：Kaplan, Moll, and Violante (2018)，连续时间HANK；参考资料 pdf Download 主要文献HANK综述及微观数据基础 Greg Kaplan, Giovanni L. Violante (2018) Microeconomic Heterogeneity and Macroeconomic Shocks. Journal of Economic Perspectives, 32 (3), 167 – 94. pdf Download Greg Kaplan, Giovanni L. Violante, Justin Weidner (2014) The Wealthy Hand-to-Mouth. Brookings Papers on Economic Activity, 2014, 77 – 138. pdf Download TANK/THANK介绍及应用 Florin O. Bilbiie (2020) The New Keynesian Cross. Journal of Monetary Economics, 114, 90 – 108. pdf Download Davide Debortoli, Jordi Galí (2018) Monetary Policy with Heterogeneous Agents: Insights from TANK models. Working Paper. pdf Download Gauti B. Eggertsson, Paul Krugman (2012) Debt, Deleveraging, and the Liquidity Trap: A Fisher-Minsky-Koo Approach. Quarterly Journal of Economics, 127 (3), 1469 – 1513. pdf Download HANK主要文献：封闭经济 Alisdair McKay, Ricardo Reis (2016) The Role of Automatic Stabilizers in the U.S. Business Cycle. Econometrica, 84 (1), 141 – 194. pdf Download Alisdair McKay, Emi Nakamura, Jón Steinsson (2016) The Power of Forward Guidance Revisited. American Economic Review, 106 (10), 3133 – 58. pdf Download Veronica Guerrieri, Guido Lorenzoni (2017) Credit Crises, Precautionary Savings, and the Liquidity Trap. Quarterly Journal of Economics, 132 (3), 1427 – 1467. pdf Download Greg Kaplan, Benjamin Moll, Giovanni L. Violante (2018) Monetary Policy According to HANK. American Economic Review, 108 (3), 697 – 743. pdf Download Adrien Auclert (2019) Monetary Policy and the Redistribution Channel. American Economic Review, 109 (6), 2333 – 67. pdf Download Christian Bayer, Ralph Luetticke, Lien Pham-Dao, Volker Tjaden (2019) Precautionary Savings, Illiquid Assets, and the Aggregate Consequences of Shocks to Household Income Risk. Econometrica, 87 (1), 255 – 290. pdf Download Christian Bayer, Benjamin Born, Ralph Luetticke (2020) Shocks, Frictions, and Inequality in US Business Cycles. CEPR Discussion Paper. pdf Download [NEW] Felipe Alves, Greg Kaplan, Benjamin Moll, Giovanni L. Violante (2020) A Further Look at the Propagation of Monetary Policy Shocks in HANK. Journal of Money, Credit and Banking, 52 (S2), 521–559. pdf Download HANK主要文献：开放经济 Sergio de Ferra, Kurt Mitman, Federica Romei (2020) Household Heterogeneity and the Transmission of Foreign Shocks. Journal of International Economics, 124, 103303. pdf Download HANK主要文献：最优政策 Alisdair McKay, Ricardo Reis (2020) Optimal Automatic Stabilizers. Review of Economic Studies, forthcoming. pdf Download 异质性个体量化宏观模型理论基础与数值求解 S. Rao Aiyagari (1994) Uninsured Idiosyncratic Risk and Aggregate Saving. Quarterly Journal of Economics, 109 (3), 659 – 684. pdf Download Mark Huggett (1993) The Risk-free Rate in Heterogeneous-Agent Incomplete-Insurance Economies. Journal of Economic Dynamics and Control, 17 (5-6), 953 – 969. pdf Download Per Krusell, Anthony A. Smith Jr. (1998) Income and Wealth Heterogeneity in the Macroeconomy. Journal of Political Economy, 106 (5), 867 – 896. pdf Download Fatih Guvenen (2011) Macroeconomics with Hetereogeneity: A Practical Guide. Economic Quarterly, 97 (3), 255 – 326. pdf Download Michael Reiter (2009) Solving Heterogeneous-agent Models by Projection and Perturbation. Journal of Economic Dynamics and Control, 33 (3), 649 – 665. pdf Download Timo Boppart, Per Krusell, Kurt Mitman (2018) Exploiting MIT Shocks in Heterogeneous-Agent Economies: The Impulse Response as a Numerical Derivative. Journal of Economic Dynamics and Control, 89, 68 – 92. pdf Download Christian Bayer, Ralph Luetticke (2020) Solving Heterogeneous Agent Models in Discrete Time with Many Idiosyncratic States by Perturbation Methods. Quantitative Economics, 11 (4), 1253 – 1288. pdf Download Yves Achdou, Jiequn Han, Jean-Michel Lasry, Pierre-Louis Lions, Benjamin Moll (2020) Income and Wealth Distribution in Macroeconomics:A Continuous-Time Approach. Review of Economic Studies, forthcoming. pdf Download 6、Macro reading group 2022 刘岩，3月22日，The Driving Forces of China’s Business Cycles: Evidence from an Estimated DSGE Model with Housing and Banking, CER, 2022 肖雅慧，4月12日，Carvalho, Lee, and Park (2021, AEJ Macro) 赵浩权，4月19日，Christiano, Motto, and Rostagno (2014, AER) 王浩安，4月26日，Chang, Liu, and Spiegel (2015, JME) 肖泽亮，5月9日，Gertler and Kiyotaki (2015, AER) 周上尧，5月16日，“中国影子银行的成因、结构及系统性风险”，《经济研究》，2021年第7期 刘岩，5月23日，Cochrane (2022, RED) 刘熙莹，5月30日，Beyond Monopolistic Competition 阅读文献列表： [B]金融摩擦 Brunnermeier, M. K., &amp; Sannikov, Y. (2014). A Macroeconomic Model with a Financial Sector. American Economic Review, 104, 379–421. Chang, C., Liu, Z., Spiegel, M. M., &amp; Zhang, J. (2019). Reserve Requirements and Optimal Chinese Stabilization Policy. Journal of Monetary Economics, 103, 33–51. Christiano, L. J., Motto, R., &amp; Rostagno, M. (2014). Risk Shocks. American Economic Review, 104, 27–65. Gertler, M., &amp; Kiyotaki, N. (2015). Banking, Liquidity, and Bank Runs in an Infinite Horizon Economy. American Economic Review, 105, 2011–2043. [C]资本管制 Chang, C., Liu, Z., &amp; Spiegel, M. M. (2015). Capital Controls and Optimal Chinese Monetary Policy. Journal of Monetary Economics, 74, 1–15. Choi, J. H. (2020). Capital Controls and Foreign Exchange Market Intervention. Journal of International Money and Finance, 101, 102098. Prasad, N. (2018). Sterilized Interventions and Capital Controls. Journal of International Money and Finance, 88, 101–121. [D]企业融资（实证为主） Kermani, A., &amp; Ma, Y. (2020). Two tales of debt (No. w27641). National Bureau of Economic Research. Lian, C., &amp; Ma, Y. (2021). Anatomy of Corporate Borrowing Constraints. Quarterly Journal of Economics, 136, 229–291. Ma, Y., &amp; Scheinkman, J. A. (2020). Going-concern debt of financial intermediaries (No. w28088). National Bureau of Economic Research. [F]价格/通胀的财政理论 Cochrane, J. H. (2021). The Fiscal Roots of Inflation. Review of Economic Dynamics, forthcoming. Sargent, T. J. (2012). Nobel Lecture: United States Then, Europe Now. Journal of Political Economy, 120, 1–40. [P]生产网络 Carvalho C, Lee J W, Park W Y. Sectoral price facts in a sticky-price model. American Economic Journal: Macroeconomics, 2021, 13(1): 216-56. Pasten E, Schoenle R, Weber M. The propagation of monetary policy shocks in a heterogeneous production economy. Journal of Monetary Economics, 2020, 116: 1-22. [O]人口结构、老龄化 Basso H S, Rachedi O. The young, the old, and the government: Demographics and fiscal multipliers. American Economic Journal: Macroeconomics, 2021, 13(4): 110-41. Carvalho C, Ferrero A, Nechio F. Demographics and real interest rates: Inspecting the mechanism. European Economic Review, 2016, 88: 208-226. [T]技术进步 Anzoategui D, Comin D, Gertler M, et al. Endogenous technology adoption and R&amp;D as sources of business cycle persistence. American Economic Journal: Macroeconomics, 2019, 11(3): 67-110. Bianchi F, Kung H, Morales G. Growth, slowdowns, and recoveries. Journal of Monetary Economics, 2019, 101: 47-63. 7、Causal inference reading group 2019Reference books Angrist and Pischke, Mostly Harmless Econometrics, 2009 赵西亮，《基本有用的计量经济学》，2017 Organizaiton and introductionRead the pdf slides 下载 Use the required PPT template to compose the presentation slides 下载 Presentations 胡智慧：下载 梁思靖：下载 孔彤阳：下载 鲍余薇：下载 荆艺玮：下载 冷学琪：下载 张雪菲：下载 赵瑾：下载 相耐汀：下载 8、Causal inference reading group 2020The reading group will last for the whole semester, and will cover the following topics, mostly related to causal inference, or endogeneity problems in an OLS setting: Robust and clustered standard errors\\ to achieve robust inference in an OLS model Instrumental variable approach\\ to attack the endogeneity problems wide spread in OLS models Panel data with fixed effects\\ to solve for the unobservable heterogeneity problem, an important source of endogeneity issues GMM approach for dynamic panels\\, where fixed effects lead to inconsistent estimates using OLS Difference-in-difference approach\\ for policy evaluation or shock identification, one of the most popular method to overcome the endogeneity issues in recent years Regression discontinuity design\\, an equally popular method for endogeneity problems in recent years Quantile regression, especially useful to analyze inequality issues and uncover heterogeneous effects of explanatory variables Reference books 邱嘉平，《因果推断实用计量方法》，2020 (REQUIRED) Angrist and Pischke, Mostly Harmless Econometrics, 2009 赵西亮，《基本有用的计量经济学》，2017 Use the required PPT template to compose the presentation slides Download Check the Introduction Slides first CIRG2020Intro Download For guidelines on composing academic slides, see Link Download Presentations 9/17, introduction, and presentations of summer research by 程子帅 梁思靖 胡智慧 9/24, presentations of summer research and undergraduate thesis by 郭倩美 pdf Download 马兆星 pdf Download 张雪菲 pdf Download 10/8, presentations of summer research; begin at 2:40pm instead of 2:00pm 孔彤阳 pdf Download 相耐汀 pdf Download 10/15, presentations of summer research; begin at 3:00pm instead of 2:00pm 鲍余薇 pdf Download 冷学琪 pdf Download 10/22, presentations of CI methodology 王健 pdf Download 相耐汀 pdf Download 蔡诺璇 pdf Download 10/29, presentations of CI methodology 李非凡 pdf Download 李思芃 pdf Download 李浩芸 pdf Download 11/5, presentations of CI methodology 曾卉琪 pdf Download 江梦瑜 pdf Download 陈远致 pdf Download 11/19, presentations of CI methodology; start at 1:00 pm instead of 2:00 pm 朱思颖 pdf Download 侯天宇 pdf Download 叶立欢 pdf Download 11/26, presentations of CI methodology 陈露滢 pdf Download 成思扬 pdf Download 郭倩美 pdf Download 补充 pdf Download 12/03, presentations of CI methodology 蒋涵琦 pdf Download 王子萱 pdf Download 马兆星 pdf Download 12/10, presentations of CI methodology 李竞开 pdf Download 12/17, presentations of CI methodology 杨宇彤 pdf Download 瞿博洋 pdf Download 龙欣雨 pdf Download 9、经济波动与增长论坛暑期学校2022：为进一步推动国内宏观经济学量化研究，促进中国特色宏观经济理论的发展，经济波动与增长论坛联合云南财经大学，计划以线下形式于2022年7月在昆明举办首届暑期学校。现面向全国高校致力于从事量化宏观研究的优秀博士、硕士研究生以及有必要知识基础的优秀本科生，招收暑期学校学员。暑期学校计划招收学员规模不超过50人，并将组织国内知名的宏观经济学中青年学者集中讲授宏观动态模型的一般理论与面向中国的建模分析方法。暑期学校预计将持续4天，前3天为集中授课（上下半天，共6次），最后1天为宏观研讨会（欢迎学员报名参加进行论文展示）。 举办时间7.4-7.7，昆明：报名公告 [ link ] 日程安排 [ link ] 课件 李戎：动态优化基础，课件 [ slides ] 刘岩：DSGE模型入门与对数线性化方法，课件 [ slides ] 薛涧坡：动态稳定性与冲击，课件 [ slides ] 许志伟：新凯恩斯模型与货币政策，课件 [ slides ] 彭玉磊：金融摩擦，课件 [ slides ] 杨光：Dynare介绍，课件 [ slides ] 研讨报告：DSGE模型在中国的研究进展与展望 报告 [ slides ] 论文链接 [ link ] 补充材料：“兼爱非攻则天下治”，工作论文 [ link ] 发表缩略版 [ link ] （三）Paul Goldsmith-Pinkham and Lars VilhuberA wonderful set of slides &amp; sample codes from an applied methods course in Yale by Paul Goldsmith-Pinkham and Lars Vilhuber available at Github [ link ] 四、视频（一）许志钦 最优化方法课程1、最优化方法1: 介绍 2、最优化方法2：凸集 3、最优化方法3: 凸函数 4、最优化方法4 : 凸优化问题第一部分 5、最优化方法5 : 凸优化问题第二部分 6、最优化方法6 : Duality 7、最优化方法7 : CVX, 逼近与拟合 8、最优化8：统计估计 9、最优化9：SVM, Norm, SVD 10、最优化10：复杂度及线性代数补充 11、最优化11：无约束优化 12、最优化12：等式约束最小化 13、最优化13：内点法 14、最优化14：次梯度 15、最优化15：1ADMM 讲义：https://ins.sjtu.edu.cn/people/xuzhiqin/2020opti/ 五、其他（一）文献及代码 1、Smets &amp; L Wouters：Shocks and Frictions in US Business Cycles: A Bayesian DSGE Approach pdf wp appendix 官方ppt1 ppt2 Uhlig-ppt3 code SW2007方程推导和结果复现"},{"title":"科研主页","date":"2022-10-12T08:52:19.000Z","updated":"2024-06-05T11:16:25.234Z","comments":true,"path":"科研主页/index.html","permalink":"http://xiahanlin1993.github.io/%E7%A7%91%E7%A0%94%E4%B8%BB%E9%A1%B5/index.html","excerpt":"","text":"科研主页"}],"posts":[{"title":"Stata画中国省级地图","slug":"Stata画中国省级地图","date":"2023-02-18T06:13:10.000Z","updated":"2023-03-10T14:04:55.849Z","comments":true,"path":"2023/02/18/stata-hua-zhong-guo-sheng-ji-di-tu/","link":"","permalink":"http://xiahanlin1993.github.io/2023/02/18/stata-hua-zhong-guo-sheng-ji-di-tu/","excerpt":"","text":"参考：使用 Stata 绘制中国省级地图！比例尺、指北针、秦岭-淮河线、胡焕庸线、海岸线 代码：github 笔记 填充地图 离散变量填充地图 连续变量填充地图 加小部件——矩形 加小部件——饼图 描点——点的大小表示另外一个变量 距离秦岭——淮河越近，点越小，距离越远，点越大。 *画多边形 chinaprov40_db.dta //属性文件 chinaprov40_coord.dta //坐标文件 *画线条和框线 chinaprov40_line_db.dta chinaprov40_line_coord.dta *标签的位置 chinaprov40_label.dta *画比例尺和指南针的多边形 polygon.dta *画最简单的地图 use chinaprov40_db.dta,clear *use chinaprov40_coord.dta,clear spmap using chinaprov40_coord.dta,id(ID) *加九段线和比例尺、胡焕庸线等 use chinaprov40_db.dta,clear spmap using chinaprov40_coord.dta,id(ID) /// line(data(chinaprov40_line_coord.dta)) *use chinaprov40_line_coord.dta,clear *use chinaprov40_line_db.dta,clear //查看每一个ID对应的属性 *删掉胡焕庸线 *use chinaprov40_line_db.dta,clear //查看每一个ID对应的属性 *_ID=41 use chinaprov40_db.dta,clear spmap using chinaprov40_coord.dta,id(ID) /// line(data(chinaprov40_line_coord.dta) /// select(drop if _ID ==44)) *删掉秦岭淮河线 *use chinaprov40_line_db.dta,clear //查看每一个ID对应的属性 *_ID=38 use chinaprov40_db.dta,clear spmap using chinaprov40_coord.dta,id(ID) /// line(data(chinaprov40_line_coord.dta) /// select(drop if _ID ==44 |_ID ==38)) *查看省与属性的一一对应关系 use chinaprov40_line_coord.dta,clear ren _ID ID merge m:1 ID using chinaprov40_line_db.dta contract group 省 *group 类别 *1 省界线 *2 国界线 *3 海岸线 *4 秦岭-淮河线 *5 小地图框格 *6 指北针/比例尺 *7 胡焕庸线 *group的作用，不同的线条使用不同的粗细和颜色 use chinaprov40_db.dta,clear spmap using chinaprov40_coord.dta,id(ID) /// line(data(chinaprov40_line_coord.dta) /// *select(drop if _ID ==44 |_ID ==38) /// by(group) size(vvthin *1.2 *0.5 *1.2 *0.5 *0.5 *1.2 )/// color(white black blue%50 green black black red)) *填充比例尺的颜色——polygon use chinaprov40_db.dta,clear spmap using chinaprov40_coord.dta,id(ID) /// line(data(chinaprov40_line_coord.dta) /// *select(drop if _ID ==44 |_ID ==38) /// by(group) size(vvthin *1.2 *0.5 *1.2 *0.5 *0.5 *1.2 ) /// color(white black blue%50 green black black red)) /// polygon(data(polygon.dta) fcolor(black)) ///画多边形 *加省份标签 use chinaprov40_db.dta,clear spmap using chinaprov40_coord.dta,id(ID) /// line(data(chinaprov40_line_coord.dta) /// *select(drop if _ID ==44 |_ID ==38) /// by(group) size(vvthin *1.2 *0.5 *1.2 *0.5 *0.5 *1.2 ) /// color(white black blue%50 green black black red)) /// polygon(data(polygon.dta) fcolor(black)) /// //画多边形 label(data(chinaprov40_label.dta) x(X) y(Y) label(cname)) //画中文标签 *不要南海诸岛和指北针的标签 use chinaprov40_db.dta,clear spmap using chinaprov40_coord.dta,id(ID) /// line(data(chinaprov40_line_coord.dta) /// *select(drop if _ID ==44 |_ID ==38) /// by(group) size(vvthin *1.2 *0.5 *1.2 *0.5 *0.5 *1.2 ) /// color(white black blue%50 green black black red)) /// polygon(data(polygon.dta) fcolor(black)) /// //画多边形 label(data(chinaprov40_label.dta) x(X) y(Y) label(cname) /// *select(drop if cname==&quot;南海诸岛&quot;)) //画中文标签 select(drop if inlist(cname,&quot;南海诸岛&quot;,&quot;N&quot;,&quot;1000km&quot;)) //画中文标签 *如何移动指北针和比例尺 线条-多边形和 use chinaprov40_line_coord.dta,clear use chinaprov40_line_db.dta,clear replace _X = _X+3000000 if inlist(_ID,40,41) replace _Y = _Y+4000000 if inlist(_ID,40,41) //单位是米 save chinaprov40_line_coord2.dta,replace *画出坐标系，以确定X轴和Y轴要移动多少——freestyle use chinaprov40_db.dta,clear spmap using chinaprov40_coord.dta,id(ID) /// line(data(chinaprov40_line_coord.dta) /// *select(drop if _ID ==44 |_ID ==38) /// by(group) size(vvthin *1.2 *0.5 *1.2 *0.5 *0.5 *1.2 ) /// color(white black blue%50 green black black red)) /// polygon(data(polygon.dta) fcolor(black)) /// //画多边形 label(data(chinaprov40_label.dta) x(X) y(Y) label(cname)) freestyle//画中文标签 *移动线条 use polygon.dta,clear replace _X = _X+3000000 if _ID==38 replace _Y = _Y+4000000 if _ID==38 save polygon2.dta,replace use chinaprov40_label.dta,clear replace X = X + 3000000 if cname==&quot;N&quot; replace Y = Y + 4000000 if cname==&quot;N&quot; save chinaprov40_label2.dta,replace use chinaprov40_db.dta,clear spmap using chinaprov40_coord.dta,id(ID) /// line(data(chinaprov40_line_coord2.dta) /// *select(drop if _ID ==44 |_ID ==38) /// by(group) size(vvthin *1.2 *0.5 *1.2 *0.5 *0.5 *1.2 ) /// color(white black blue%50 green black black red)) /// polygon(data(polygon2.dta) fcolor(black)) /// //画多边形 label(data(chinaprov40_label2.dta) x(X) y(Y) label(cname)) *同时移动指北针和比例尺 use chinaprov40_line_coord.dta,clear replace _X = _X+3000000 if inlist(_ID,40,41) replace _Y = _Y+4000000 if inlist(_ID,40,41) replace _Y = _Y+200000 if inlist(_ID,42,43) save chinaprov40_line_coord2.dta,replace use polygon.dta,clear replace _X = _X+3000000 if _ID==38 replace _Y = _Y+4000000 if _ID==38 replace _Y = _Y+200000 if _ID==39 save polygon2.dta,replace use chinaprov40_label.dta,clear replace X = X + 3000000 if cname==&quot;N&quot; replace Y = Y + 4000000 if cname==&quot;N&quot; replace Y = Y + 200000 if cname==&quot;1000km&quot; save chinaprov40_label2.dta,replace use chinaprov40_db.dta,clear spmap using chinaprov40_coord.dta,id(ID) /// line(data(chinaprov40_line_coord2.dta) /// *select(drop if _ID ==44 |_ID ==38) /// by(group) size(vvthin *1.2 *0.5 *1.2 *0.5 *0.5 *1.2 ) /// color(white black blue%50 green black black red)) /// polygon(data(polygon2.dta) fcolor(black)) /// //画多边形 label(data(chinaprov40_label2.dta) x(X) y(Y) label(cname) size(*0.8))/// 设置标签小一点 graphr(margin(medium))// 调整边距，放大 *案例一：2019年中国省级行政区域 use chinaprov40_db.dta,clear encode 类型,gen(type) codebook type //查看数-标签对照 *注意 stata15（含）使用spmap，15之后就可以使用grmap，第一次使用需要激活 *grmap,activate *使用grmap和spmap的结果是一样的，spmap是第三方，grmap是官方 grmap type using chinaprov40_coord.dta,id(ID) /// //不需要改动底图，只需要添加type进行填充 line(data(chinaprov40_line_coord2.dta) /// *select(drop if _ID ==44 |_ID ==38) /// by(group) size(vvthin *1.2 *0.5 *1.2 *0.5 *0.5 *1.2 ) /// color(white /// 省界颜色 black /// 国界线颜色 &quot;0 85 170&quot; /// 海岸线颜色 &quot;24 188 156&quot; /// 秦岭淮河线颜色 black /// 小地图框格颜色 black /// 比例尺和指北针颜色 &quot;227 26 28&quot; /// 胡焕庸线颜色 )) /// polygon(data(polygon2.dta) fcolor(black)) /// //画多边形 label(data(chinaprov40_label2.dta) x(X) y(Y) label(cname) size(*0.8))/// 设置标签小一点 graphr(margin(medium))// 调整边距，放大 *想要的是每一种type对应一种颜色，但图形是分组1-4,4-5 重新设定分组 help spmap *clmethod(custom) clbreak(0 1 2 3 4 5) 自定义分组，分成五组 fcolor(&quot;254 212 57&quot; &quot;253 116 70&quot; &quot;138 145 151&quot; &quot;213 228 162&quot; &quot;210 175 129&quot;) ///自己填充颜色，可选择渐变色 *gr export test.pdf,replace osize(vvthin ...)/// outline 边框线（省界）的大小 ...表示所有的图层 ocolor(white ...) ///颜色为白色 legend(order(2 &quot;不统计&quot; 3 &quot;特别行政区&quot; 4 &quot;直辖市&quot; 5 &quot;省&quot; 6 &quot;自治区&quot; 11 &quot;秦岭-淮河线&quot; 14 &quot;胡焕庸线&quot;)) ti(&quot;使用 Stata 绘制 2019 年中国省级行政区划&quot;) /// subti(&quot;绘制：微信公众号 RStata&quot;) /// caption(&quot;版本：使用 Stata 绘制中国省级地图数据包 4.0&quot;, size(*0.8)) gr export pic1.png, replace width(1200) *使用graph editor查看图层对应 案例一：全部代码 离散变量的绘制 use chinaprov40_db.dta, clear encode 类型, gen(type) codebook type grmap type using chinaprov40_coord.dta, /// id(ID) osize(vvthin ...) ocolor(white ...) /// clmethod(custom) clbreaks(0 1 2 3 4 5) /// fcolor(&quot;254 212 57&quot; &quot;253 116 70&quot; &quot;138 145 151&quot; &quot;213 228 162&quot; &quot;210 175 129&quot;) /// leg(order(2 &quot;不统计&quot; 3 &quot;特别行政区&quot; 4 &quot;直辖市&quot; 5 &quot;省&quot; 6 &quot;自治区&quot; 11 &quot;秦岭-淮河线&quot; 14 &quot;胡焕庸线&quot;)) /// graphr(margin(medium)) /// line(data(chinaprov40_line_coord.dta) by(group) size(vvthin *1 *0.5 *1.2 *0.5 *0.5 *1.2) pattern(solid ...) /// color(white /// 省界颜色 black /// 国界线颜色 &quot;0 85 170&quot; /// 海岸线颜色 &quot;24 188 156&quot; /// 秦岭淮河线颜色 black /// 小地图框格颜色 black /// 比例尺和指北针颜色 &quot;227 26 28&quot; /// 胡焕庸线颜色 )) /// polygon(data(polygon) fcolor(black) /// osize(vvthin)) /// label(data(chinaprov40_label) x(X) y(Y) label(cname) length(20) size(*0.8)) /// ti(&quot;使用 Stata 绘制 2019 年中国省级行政区划&quot;) /// subti(&quot;绘制：微信公众号 RStata&quot;) /// caption(&quot;版本：使用 Stata 绘制中国省级地图数据包 4.0&quot;, size(*0.8)) gr export pic1.png, replace width(1200) 案例二-案例一的英文版本 *chinaprov40_label.dta 数据决定了文本标签的位置和内容，如果想绘制英文版的地图，可以使用 ename 变量： grmap type using chinaprov40_coord.dta, /// id(ID) osize(vvthin ...) ocolor(white ...) /// clmethod(custom) clbreaks(0 1 2 3 4 5) /// fcolor(&quot;254 212 57&quot; &quot;253 116 70&quot; &quot;138 145 151&quot; &quot;213 228 162&quot; &quot;210 175 129&quot;) /// leg(order(2 &quot;Not within the scope of statistics&quot; 3 &quot;Special administrative region&quot; 4 &quot;Municipality directly under&quot; &quot;the Central Government&quot; 5 &quot;Province&quot; 6 &quot;Autonomous Region&quot; 11 &quot;Qinling Huaihe River Line&quot; 14 &quot;Hu Huanyong line&quot;)) /// 换行 graphr(margin(medium)) /// line(data(chinaprov40_line_coord.dta) by(group) size(vvthin *1 *0.5 *1.2 *0.5 *0.5 *1.2) pattern(solid ...) /// color(white /// 省界颜色 black /// 国界线颜色 &quot;0 85 170&quot; /// 海岸线颜色 &quot;24 188 156&quot; /// 秦岭淮河线颜色 black /// 小地图框格颜色 black /// 比例尺和指北针颜色 &quot;227 26 28&quot; /// 胡焕庸线颜色 )) /// polygon(data(polygon) fcolor(black) /// osize(vvthin)) /// label(data(chinaprov40_label) x(X) y(Y) label(ename) length(20) size(*0.6)) ///标签长度和大小 ti(&quot;Using Stata to draw China&#39;s provincial map in 2019&quot;) /// subti(&quot;WeChat Subscription: RStata&quot;) /// caption(&quot;Version: 4.0&quot;, size(*0.8)) gr export pic2.png, replace width(1200) 案例三：连续变量 *连续变量的绘制方法和离散变量的类似，通过恰当的分组和颜色填充就可以绘制出精美的图表了，下面以2020 年中国各省市地区生产总值的填充地图绘制为例： import delimited using &quot;2020年中国各省市地区生产总值.csv&quot;, clear encoding(utf8) gen prov = substr(省份, 1, 6) save 2020年中国各省市地区生产总值, replace use chinaprov40_db.dta, clear gen prov = substr(省, 1, 6) //省份的前两个字 merge 1:1 prov using 2020年中国各省市地区生产总值 replace 地区生产总值 = -1 if missing(地区生产总值)// 缺失值，缺失也可以填充颜色 grmap 地区生产总值 using chinaprov40_coord.dta, /// id(ID) osize(vvthin ...) ocolor(white ...) /// clmethod(custom) clbreaks(-1 0 20000 40000 60000 80000 120000) /// fcolor(gray &quot;224 242 241&quot; &quot;178 223 219&quot; &quot;128 203 196&quot; &quot;77 182 172&quot; &quot;38 166 154&quot;) /// leg(order(2 &quot;无数据&quot; 3 &quot;&lt; 2 万亿元&quot; 4 &quot;2～4 万亿元&quot; 5 &quot;4～6 万亿元&quot; 6 &quot;6～8 万亿元&quot; 7 &quot;&gt; 8 万亿元&quot;)) /// graphr(margin(medium)) /// line(data(chinaprov40_line_coord.dta) /// /// 去除秦岭淮河线(4)、胡焕庸线(7) select(keep if inlist(group, 1, 2, 3, 5, 6)) /// by(group) size(vvthin *1 *0.5 *0.5 *0.5) /// pattern(solid ...) /// color(white /// 省界颜色 black /// 国界线颜色 &quot;0 85 170&quot; /// 海岸线颜色 black /// 小地图框格颜色 black /// 比例尺和指北针颜色 )) /// polygon(data(polygon) fcolor(black) /// osize(vvthin)) /// label(data(chinaprov40_label) x(X) y(Y) label(cname) length(20) size(*0.8)) /// ti(&quot;2020 年中国各省市地区生产总值&quot;) /// subti(&quot;绘制：微信公众号 RStata&quot;) /// caption(&quot;数据来源：各地统计局&quot;, size(*0.8)) gr export pic3.png, replace width(1200) 主要关注怎么分组，怎么设定颜色，怎么设定图例？ 案例四：2013年中国工业企业分布及距离秦岭淮河的距离 *转换坐标，经纬度到笛卡尔坐标系 * 转换方式一：https://czxb.shinyapps.io/crs-trans/ * 注意事项，上传的 csv 文件应该包含数值型的 lon 和 lat 变量，观测值上限大概是 10 万个，不可多人同时使用。 use gq2013sample.dta,clear keep *度 ren 经度 lon ren 维度 lat export delimited using &quot;待上传.csv&quot;,replace import delimited using &quot;转换后的数据.csv&quot;,clear gen id = _n save 转换后的数据,replace use gq2013sample.dta,clear gen id=_n merge 1:1 id using &quot;转换后的数据&quot; keep x y 与秦岭淮河线的距离 北方或南方 encode 北方或南方,gen(north) save pointdata,replace use chinaprov40_db.dta, clear spmap using chinaprov40_coord.dta, id(ID) /// 不需要填充 ocolor(&quot;black&quot; ...) osize(vvthin ...) /// line(data(chinaprov40_line_coord.dta) /// /// 胡焕庸线（7） select(keep if inlist(group, 1, 2, 3, 4, 5, 6)) /// by(group) size(vvthin *1 *0.5 *1.5 *0.5 *0.5) /// pattern(solid ...) /// color(white /// 省界颜色 black /// 国界线颜色 &quot;0 85 170&quot; /// 海岸线颜色 &quot;0 85 170&quot; /// 秦岭淮河线颜色 black /// 小地图框格颜色 black /// 比例尺和指北针颜色 )) /// polygon(data(polygon) fcolor(black) /// osize(vvthin)) /// label(data(chinaprov40_label) x(X) y(Y) label(cname) length(20) size(*0.8)) /// point(data(pointdata) by(north) /// fcolor(&quot;227 26 28%30&quot; &quot;24 188 156%30&quot;) /// x(x) y(y) /// proportional(与秦岭淮河线的距离) /// 点的大小 size(*0.1) legenda(on)) /// leg(order(7 &quot;秦岭-淮河线&quot; 10 &quot;北方工企业&quot; 11 &quot;南方工企业&quot;)) /// ti(&quot;2013 年中国工业企业与秦岭-淮河线的距离&quot;, color(black)) /// subti(&quot;绘制：微信公众号 RStata&quot;) /// graphr(margin(medium)) /// caption(&quot;数据来源：2013 年中国工业企业数据库，使用高德地图地理编码接口解析经纬度&quot;, size(*0.8)) gr export pic4.png, replace width(1200) 案例五：加饼图 饼图的位置可以用标签位置： use 各省历年GDP, clear drop if 省份 == &quot;中国&quot; replace 地区生产总值_亿元 = 地区生产总值_亿元 / 1000 merge m:m 省代码 using chinaprov40_db.dta replace 地区生产总值_亿元 = -1 if missing(年份) grmap 地区生产总值_亿元 if 年份 == 2019 | missing(年份) /// using chinaprov40_coord.dta, id(ID) /// clmethod(custom) clbreaks(-1 0 40 60 80 100 120) /// fcolor(&quot;gray&quot; &quot;237 248 233&quot; &quot;199 233 192&quot; &quot;161 217 155&quot; &quot;116 196 118&quot; &quot;49 163 84&quot;) /// ocolor(&quot;gray&quot; ...) /// ti(&quot;2019 年中国各省地区生产总值 &amp; 产业结构&quot;, size(*1.1)) /// subtitle(&quot;数据来源：CSMAR经济金融数据库&quot;) /// graphr(margin(medium)) /// osize(vvthin ...) /// legend(size(*1.1) /// order(2 &quot;无数据&quot; 3 &quot;&lt; 40千亿&quot; /// 4 &quot;40～60千亿&quot; 5 &quot;60～80千亿&quot; /// 6 &quot;80～100千亿&quot; 7 &quot;&gt; 100千亿&quot; /// 14 &quot;第一产业&quot; 15 &quot;第二产业&quot; 16 &quot;第三产业&quot;)) /// caption(&quot;绘制：微信公众号 RStata&quot;, size(*0.8)) /// line(data(chinaprov40_line_coord.dta) /// /// 去除秦岭淮河线(4) 胡焕庸线（7） select(keep if inlist(group, 1, 2, 3, 5, 6)) /// by(group) size(vvthin *1 *0.5 *0.5 *0.5) /// pattern(solid ...) /// color(white /// 省界颜色 black /// 国界线颜色 &quot;0 85 170&quot; /// 海岸线颜色 black /// 小地图框格颜色 black /// 比例尺和指北针颜色 )) /// polygon(data(polygon) fcolor(black) /// osize(vvthin)) /// label(data(chinaprov40_label) x(X) y(Y) label(cname) length(20) size(*0.8)) /// diagram(data(piedata) x(X) y(Y) v(第一产业占GDP比重_百分比 第二产业占GDP比重_百分比 第三产业占GDP比重_百分比) /// type(pie) legenda(on) os(vvthin) /// size(1.5) fc(&quot;102 194 165&quot; &quot;252 141 98&quot; &quot;229 196 148&quot;) /// oc(&quot;102 194 165&quot; &quot;252 141 98&quot; &quot;229 196 148&quot;)) gr export &quot;pic5.png&quot;, replace width(1200) 饼图也可以换成框架矩形图： grmap 地区生产总值_亿元 if 年份 == 2019 | missing(年份) /// using chinaprov40_coord.dta, id(ID) /// clmethod(custom) clbreaks(-1 0 40 60 80 100 120) /// fcolor(&quot;gray&quot; &quot;237 248 233&quot; &quot;199 233 192&quot; &quot;161 217 155&quot; &quot;116 196 118&quot; &quot;49 163 84&quot;) /// ocolor(&quot;gray&quot; ...) /// ti(&quot;2019 年中国各省地区生产总值 &amp; 第一产业比重&quot;, size(*1.1)) /// subtitle(&quot;数据来源：CSMAR经济金融数据库&quot;) /// graphr(margin(medium)) /// osize(vvthin ...) /// legend(size(*1.1) /// order(2 &quot;无数据&quot; 3 &quot;&lt; 40千亿&quot; /// 4 &quot;40～60千亿&quot; 5 &quot;60～80千亿&quot; /// 6 &quot;80～100千亿&quot; 7 &quot;&gt; 100千亿&quot; /// 15 &quot;第一产业比重&quot;)) /// caption(&quot;绘制：微信公众号 RStata&quot;, size(*0.8)) /// line(data(chinaprov40_line_coord.dta) /// /// 去除秦岭淮河线(4) 胡焕庸线（7） select(keep if inlist(group, 1, 2, 3, 5, 6)) /// by(group) size(vvthin *1 *0.5 *0.5 *0.5) /// pattern(solid ...) /// color(white /// 省界颜色 black /// 国界线颜色 &quot;0 85 170&quot; /// 海岸线颜色 black /// 小地图框格颜色 black /// 比例尺和指北针颜色 )) /// polygon(data(polygon) fcolor(black) /// osize(vvthin)) /// diagram(data(piedata) x(X) y(Y) v(第一产业占GDP比重_百分比) /// type(frect) legenda(on) os(vvthin) /// size(1.5) fc(&quot;252 141 98&quot;) /// oc(&quot;252 141 98&quot;) refsize(none)) gr export &quot;pic6.png&quot;, replace width(1200) 案例六：各省人口密度 最后我们再演示下胡焕庸线的用法： use 中国人口空间分布省级面板数据集.dta, clear ren 省份 省 merge m:1 省 using chinaprov40_db.dta keep if 年份 == 2015 | missing(年份) replace 均值 = -1 if missing(均值) grmap 均值 using chinaprov40_coord.dta, /// id(ID) osize(vvthin ...) ocolor(white ...) /// clmethod(custom) clbreaks(-1 0 100 1000 2000 3000 4000) /// fcolor(gray &quot;224 242 241&quot; &quot;178 223 219&quot; &quot;128 203 196&quot; &quot;77 182 172&quot; &quot;38 166 154&quot;) /// leg(order(2 &quot;无数据&quot; 3 &quot;&lt; 100 人/平方公里&quot; 4 &quot;100～1000 人/平方公里&quot; 5 &quot;1000～2000 人/平方公里&quot; 6 &quot;2000～3000 人/平方公里&quot; 7 &quot;&gt; 3000 人/平方公里&quot; 14 &quot;胡焕庸线&quot;)) /// graphr(margin(medium)) /// line(data(chinaprov40_line_coord.dta) /// /// 去除秦岭淮河线(4) select(keep if inlist(group, 1, 2, 3, 5, 6, 7)) /// by(group) size(vvthin *1 *0.5 *0.5 *0.5 *1.2) /// pattern(solid ...) /// color(white /// 省界颜色 black /// 国界线颜色 &quot;0 85 170&quot; /// 海岸线颜色 black /// 小地图框格颜色 black /// 比例尺和指北针颜色 &quot;227 26 28&quot; /// 胡焕庸线颜色 )) /// polygon(data(polygon) fcolor(black) /// osize(vvthin)) /// label(data(chinaprov40_label) x(X) y(Y) label(cname) length(20) size(*0.8)) /// ti(&quot;2015 年中国各省平均人口密度&quot;) /// subti(&quot;绘制：微信公众号 RStata&quot;) /// caption(&quot;数据来源：中国科学院资源环境科学与数据中心&quot;, size(*0.8)) gr export pic7.png, replace width(1200) 【Stata】绘制一份完完整整的中国地图！文件准备：.shp和.dbf 转换文件：转换为stata可以识别的.dta 使用spmap命令绘图 找shp文件的方法： stata自带命令提供的中国地图是不完整的，是不能使用的；另外，不过这个地图画出来也只能做ppt的演示，在国内发文章需要有正规的审图号，没审图号，发英文可以，中文期刊比较严格 阿里云地图选择器：http://datav.aliyun.com/tools/atlas/index.html 在json格式，优点，在后续倒入快很多 shp格式转换：https://mapshaper.org/ 底图+指标 也可以不使用stata画九段线，使用没有九段线的图和带九段线的图，在ppt中合并为1张图 stata 画二维地图1. 简介二维地图很复杂，但是并不在于他们有多难画，而在于我们往往难以预料到画完的结果。很多时候我们很难绘制想要的图，但是一个像下面这样非常漂亮的图，无疑可以为我们的论文增添不少光彩。下面就让我们看看如何绘制二维地图吧！ 2. 准备工作首先安装如下命令，并进行相关设置。 ssc install geo2xy, replace // 用来调整地图的映射 ssc install schemepack, replace // Stata绘图模板仓库 set scheme white_tableau // 设置绘图模板 graph set window fontface &quot;Arial Narrow&quot; // 设置绘图字体 然后下载数据「CC-EST2020-ALLDATA6.csv」，并做一些数据清理的工作。 import delim CC-EST2020-ALLDATA6.csv, clear tab year keep if year==13 // 2020 keep if agegrp==0 // TOTAL drop year agegrp keep sumlev state county stname ctyname tot_pop ba_male ba_female h_male h_female aa_male aa_female destring _all, replace ren state STATEFP ren county COUNTYFP gen tot_afam = ba_male + ba_female // african-american gen tot_hisp = h_male + h_female // hispanic gen tot_asian = aa_male + aa_female // asian gen share_afam = (tot_afam / tot_pop) * 100 gen share_hisp = (tot_hisp / tot_pop) * 100 gen share_asian = (tot_asian / tot_pop) * 100 compress save county_race.dta, replace 接着，下载州和县的 ShapeFiles，即「cb_2018_us_state_500k.zip」。现在，我们从边界开始画起。 spshape2dta cb_2018_us_state_500k.shp,replace saving(usa_state) 以上命令语句是将 .shp 格式的文件转化为 Stata 认识的 .dta 格式的文件。 use usa_state, clear spmap using usa_state_shp, id(_ID) 很不巧，阿拉斯加实在是太大的，为了后续作图的美观，我们将阿拉斯加和夏威夷群岛去掉，只留下美国本土。为了快速找出这几个不在美国本土的州，我们用下面这个巧妙的方法来得到这些岛屿的识别码。 twoway (scatter _CY _CX, mlabel(STATEFP)) 这样我们就找到了需要删掉掉的岛屿的识别码了，他们是 STATEFP = 02, 15, 60, 66, 69, 72, 78 * clean up the boundaries use usa_state_shp, clear merge m:1 _ID using usa_state // to get the identifiers destring STATEFP, replace drop if inlist(STATEFP,2,15,60,66,69,72,78) twoway (scatter _Y _X) 好像和我们平时看到的美国地图不太一样，我们可以采用 geo2xy 这个命令来将经纬度转换到笛卡尔坐标系当中。 geo2xy _Y _X, proj(albers) replace twoway (scatter _Y _X) 看上去好多了！下面我们简单清理一下数据，然后保存起来。 drop _CX- _merge sort _ID shape_order save usa_state_shp_clean.dta, replace 让我们看下此时的地图长啥样。 use usa_state, clear spmap using usa_state_shp_clean, id(_ID) 看上去很不错，下面我们再对不同的县做同样的处理，这里需要下载文件「cb_2018_us_county_500k.zip」。 * get the counties in order spshape2dta &quot;cb_2018_us_county_500k.shp&quot;, replace saving(usa_county) * clean up the boundaries use usa_county_shp, clear merge m:1 _ID using usa_county destring STATEFP, replace drop if inlist(STATEFP,2,15,60,66,69,72,78) drop _CX- _merge geo2xy _Y _X, proj(albers) replace sort _ID shape_order save usa_county_shp_clean.dta, replace * 绘制地图 use usa_county, clear destring _all, replace spmap using usa_county_shp_clean, id(_ID) 3. 地图首先让我们把需要的数据全部合并到一份文件当中。 use usa_county, clear destring _all, replace merge 1:1 STATEFP COUNTYFP using county_race keep if _m==3 drop _m spmap share_afam using usa_county_shp_clean, id(_ID) clm(custom) clb(0(10)100) fcolor(Heat) // 非裔美国人的比例 spmap share_hisp using usa_county_shp_clean, id(_ID) clm(custom) clb(0(10)100) fcolor(Heat) // 拉美裔美国人比例 可以看到拉美裔和非裔美国人的分布存在显著差异。我们也可以画一个散点图来直观体现非裔美国人和拉美裔美国人之间的交叠部分。 scatter share_afam share_hisp 可以发现二者几乎没有什么重叠区域。下面我们将这个散点图按种类分开。对于双变量的地图，我们需要分配 9 种或者 16 种颜色到不同的种类组合。但是在具体分配之前，我们需要做一件重要的事情就是弄清楚颜色分配的顺序。作者给出这样的颜色分配顺序： 接下来要做的是将数据按照顺序分为 9 组，分组的方式有很多，我们可以采用等分的方式或分位数分组的方式。首先让我们看一下如何采用等分的方式分组，作者给出了一种非常巧妙的方法。 * 将数据进行切分 cap drop cut* egen cut_afam = cut(share_afam), at(0,33,66,100) icodes egen cut_hisp = cut(share_hisp), at(0,33,66,100) icodes egen cut_hisp2 = cut(share_hisp), group(3) icodes // 这个就是分位数 * 分组 sort cut_afam cut_hisp egen grp_cut = group(cut_afam cut_hisp) 分位数分组数命令如下： * 分位数 cap drop xtile* xtile xtile_afam = share_afam, n(3) xtile xtile_hisp = share_hisp, n(3) * 分组 sort xtile_afam xtile_hisp egen grp_xtile = group(xtile_afam xtile_hisp) 下面我们来比较一下这两种分组的结果： twoway (scatter share_hisp share_afam, msize(small) mc(%10)), yline(0 33 66 100) /// xline(0 33 66 100) xlabel(0(20)100) ylabel(0(20)100) aspect(1) * get the cut-off points from tabstat tabstat share_hisp, by(xtile_hisp) c(stat) stat(max) tabstat share_afam, by(xtile_afam) c(stat) stat(max) * based on percentiles twoway (scatter share_hisp share_afam, msize(small) mc(%10)), yline(0 3 7.4 100) /// xline(0 1.2 6.5 100) xlabel(0(20)100) ylabel(0(20)100) aspect(1) 很明显，在等分法画出的图大约 80% 的点都落在左下角的那个方格当中，而在右上角的方格中却没有点，因此等分法的结果并不理想。相比之下以分位数法分组的结果就很理想，分位数的设置使得每一个方格中都有大约相等的点数。所以相比于等分法而言，分位数分组的结果可能会更加理想一些。下面我们检查一下两种分组的结果如何改变地图的格式。 首先是等分的结果： spmap grp_cut using usa_county_shp_clean, id(_ID) clm(unique) fcolor(Heat) 可以看出在等分法分组的情形下并没有什么特别之处，我们划分的 9 类中只有 6 类在图中体现出来了。而且在不同种类中划分地并不均匀。 其次是分位数的结果： spmap grp_xtile using usa_county_shp_clean, id(_ID) clm(unique) fcolor(Heat) 可以看到我们有 1-9 组，而且每一组都大致相等的点。然而有一个小缺陷就是颜色的深浅并不代表任何顺序。 4. 颜色二维地图的颜色设计需要仔细考虑，它们需要很容易区分并且有着足够的对比度以呈现更为有意义的信息。首先我们挑选一个紫色的模板： colorpalette #e8e8e8 #dfb0d6 #be64ac #ace4e4 #a5add3 #8c62aa #5ac8c8 #5698b9 #3b4994 下面让我们把颜色放进地图： * 颜色放进地图 colorpalette #e8e8e8 #dfb0d6 #be64ac #ace4e4 #a5add3 #8c62aa #5ac8c8 #5698b9 #3b4994, nograph local colors `r(p)&#39; spmap grp_xtile using usa_county_shp_clean, /// id(_ID) clm(unique) fcolor(&quot;`colors&#39;&quot;) /// ocolor(white ..) osize(0.02 ..) /// ndfcolor(gs14) ndocolor(gs6 ..) ndsize(0.03 ..) ndlabel(&quot;No data&quot;) /// polygon(data(&quot;usa_state_shp_clean&quot;) ocolor(white) osize(0.15) ) /// legend(pos(5) size(2.5)) legstyle(2) /// title(&quot;Comparison of African American versus Hispanic shares&quot;, size(5)) /// note(&quot;Source: United States Census Bureau&quot;, size(vsmall)) 下面让我们去掉一些额外的信息： colorpalette #e8e8e8 #dfb0d6 #be64ac #ace4e4 #a5add3 #8c62aa #5ac8c8 #5698b9 #3b4994, nograph local colors `r(p)&#39; spmap grp_xtile using usa_county_shp_clean, /// id(_ID) clm(unique) fcolor(&quot;`colors&#39;&quot;) /// ocolor(white ..) osize(none ..) /// ndfcolor(gs14) ndocolor(gs6 ..) ndsize(0.03 ..) ndlabel(&quot;No data&quot;) /// polygon(data(&quot;usa_state_shp_clean&quot;) ocolor(white) osize(0.12) ) /// legend(off) name(bivar_map, replace) 5. 图例首先我们先在一个干净的画布上生成九个格点： clear set obs 9 egen y = seq(), b(3) egen x = seq(), t(3) twoway (scatter y x) 现在将这些点转化为方格，然后增加坐标轴的大小： twoway (scatter y x, msymbol(square) msize(18)), xlabel(0 4) ylabel(0 4) aspect(1) 接下来把颜色放进去了，我们先看如何把对角的颜色填充进去： colorpalette #e8e8e8 #dfb0d6 #be64ac #ace4e4 #a5add3 #8c62aa #5ac8c8 #5698b9 #3b4994, nograph return list local color11 `r(p1)&#39; local color12 `r(p2)&#39; local color13 `r(p3)&#39; local color21 `r(p4)&#39; local color22 `r(p5)&#39; local color23 `r(p6)&#39; local color31 `r(p7)&#39; local color32 `r(p8)&#39; local color33 `r(p9)&#39; twoway (scatter y x if x==1 &amp; y==1, msymbol(square) msize(18) mc(&quot;`color11&#39;&quot;)) /// (scatter y x if x==2 &amp; y==2, msymbol(square) msize(18) mc(&quot;`color22&#39;&quot;)) /// (scatter y x if x==3 &amp; y==3, msymbol(square) msize(18) mc(&quot;`color33&#39;&quot;)), /// xlabel(0 4) ylabel(0 4) aspect(1) legend(off) 然后我们用循环的方法来快速填充其余的方格： * 填充颜色 levelsof x, local(xlvl) levelsof y, local(ylvl) local boxes foreach x of local xlvl &#123; foreach y of local ylvl &#123; local boxes `boxes&#39; (scatter y x if x==`x&#39; &amp; y==`y&#39;, msymbol(square) /// msize(19) mc(&quot;`color`x&#39;`y&#39;&#39;&quot;)) &#125; &#125; cap drop spike* gen spike1_x1 = 0.2 in 1 gen spike1_x2 = 3.6 in 1 gen spike1_y1 = 0.2 in 1 gen spike1_y2 = 0.2 in 1 gen spike1_m = &quot;More African Americans&quot; gen spike2_y1 = 0.2 in 1 gen spike2_y2 = 3.2 in 1 gen spike2_x1 = 0.2 in 1 gen spike2_x2 = 0.2 in 1 gen spike2_m = &quot;More Hispanics&quot; twoway `boxes&#39; (pcarrow spike1_y1 spike1_x1 spike1_y2 spike1_x2, lcolor(gs12) lw(thin) /// mcolor(gs12) mlabel(spike1_m) mlabpos(7) headlabel) (pcarrow spike2_y1 spike2_x1 /// spike2_y2 spike2_x2, lcolor(gs12) lw(thin) mcolor(gs12) mlabel(spike2_m) mlabpos(10) /// headlabel mlabangle(90) mlabgap(1.8)), xlabel(0 4) ylabel(0 4) aspect(1) legend(off) 接下来将这张图的尺寸缩小以匹配我们之前绘制的地图，同时删掉原来的坐标轴和格点： colorpalette #e8e8e8 #dfb0d6 #be64ac #ace4e4 #a5add3 #8c62aa #5ac8c8 #5698b9 #3b4994, nograph return list local color11 `r(p1)&#39; local color12 `r(p2)&#39; local color13 `r(p3)&#39; local color21 `r(p4)&#39; local color22 `r(p5)&#39; local color23 `r(p6)&#39; local color31 `r(p7)&#39; local color32 `r(p8)&#39; local color33 `r(p9)&#39; levelsof x, local(xlvl) levelsof y, local(ylvl) local boxes foreach x of local xlvl &#123; foreach y of local ylvl &#123; local boxes `boxes&#39; (scatter y x if x==`x&#39; &amp; y==`y&#39;, msymbol(square) msize(5) /// mc(&quot;`color`x&#39;`y&#39;&#39;&quot;)) &#125; &#125; twoway `boxes&#39; (pcarrow spike1_y1 spike1_x1 spike1_y2 spike1_x2, lw(thin) /// lcolor(gs12) mcolor(gs12) mlabel(spike1_m) mlabpos(7 ) msize(0.8) headlabel /// mlabsize(2)) (pcarrow spike2_y1 spike2_x1 spike2_y2 spike2_x2, lw(thin) /// lcolor(gs12) mcolor(gs12) mlabel(spike2_m) mlabpos(10) msize(0.8) headlabel /// mlabangle(90) mlabgap(1.8) mlabsize(2)), xlabel(0 4, nogrid) ylabel(0 4, nogrid) /// aspectratio(1) xsize(1) ysize(1) fxsize(20) fysize(100) legend(off) ytitle(&quot;&quot;) /// xtitle(&quot;&quot;) xscale(off) yscale(off) name(bivar_legend, replace) 最后我们将地图和这张小图例合在一起： * 合并两张图 graph combine bivar_map bivar_legend, imargin(zero) /// title(&quot;&#123;fontface Arial Bold:Share of African Americans and Hispanics in the USA&#125;&quot;, size(4.5)) /// note(&quot;Source of data, and county and state layers: United States Census Bureau.&quot;, size(2)) 6. 中国地图set scheme white_tableau // 设置绘图模板 cap spshape2dta 省级数据 /* 这条命令可以将 dbf 和 shp 格式的地图文件转为两个 dta 格式的文件，分别以省级数据.dta 和省级数据_shp.dta命名，其中后者省级数据_shp.dta为坐标数据，前者省级数据.dta为标签数据， 在绘制地图时，我们主要是通过标签数据中的 ID 变量连接 (合并) 地图数据和作图数据 */ * 绘制一维地图 import excel 北京大学数字普惠金融指数.xlsx,firstrow sheet(Provinces) clear // 使用总的数字金融普惠指数 collapse (mean) index_aggregate, by(prov_name) drop in 1 save 普惠金融指数.dta,replace ren prov_name name merge 1:1 name using &quot;省级数据.dta&quot; // drop in 32 // 由于北大普惠指数没有考虑香港、澳门、台湾，因此这些地区的数据缺失 drop _merge spmap index_aggregate using 省级数据_shp, id(_ID) fcolor(Blues) mocolor(black) mosize(0.1) * 二维地图 import excel 北京大学数字普惠金融指数.xlsx, firstrow sheet(Provinces) clear collapse (mean) coverage_breadth usage_depth, by(prov_name) drop in 1 save 数字金融广度和深度.dta,replace ren prov_name name merge 1:1 name using &quot;省级数据.dta&quot; // drop in 32 drop _merge xtile xtile_coverage = coverage_breadth, n(3) xtile xtile_usage = usage_depth, n(3) sort xtile_coverage xtile_usage cap drop xtile2 egen xtile2 = group(xtile_coverage xtile_usage) // map with new color scheme colorpalette #c8b35a #b0d5df #64acbe #e4acac #ad9ea5 #627f8c #c85a5a #985356 #574249, nograph local colors `r(p)&#39; spmap xtile2 using 省级数据_shp, id(_ID) clm(unique) fcolor(&quot;`colors&#39;&quot;) /// ocolor(black ..) osize(0.02 ..) /// ndfcolor(gs14) ndocolor(gs6 ..) ndsize(0.03 ..) ndlabel(&quot;No data&quot;) /// polygon(data(&quot;省级数据_shp&quot;) ocolor(black) osize(0.12) ) /// legend(off) name(bivar_map2, replace) mosize(vvvthick) // legend with new color scheme clear set obs 9 egen y = seq(), b(3) egen x = seq(), t(3) cap drop spike* gen spike1_x1 = 0.2 in 1 gen spike1_x2 = 3.6 in 1 gen spike1_y1 = 0.2 in 1 gen spike1_y2 = 0.2 in 1 gen spike1_m = &quot;数字普惠广度更强&quot; gen spike2_y1 = 0.2 in 1 gen spike2_y2 = 3.2 in 1 gen spike2_x1 = 0.2 in 1 gen spike2_x2 = 0.2 in 1 gen spike2_m = &quot;数字普惠深度更强&quot; colorpalette #c8b35a #b0d5df #64acbe #e4acac #ad9ea5 #627f8c #c85a5a #985356 #574249, nograph local color11 `r(p1)&#39; local color12 `r(p2)&#39; local color13 `r(p3)&#39; local color21 `r(p4)&#39; local color22 `r(p5)&#39; local color23 `r(p6)&#39; local color31 `r(p7)&#39; local color32 `r(p8)&#39; local color33 `r(p9)&#39; levelsof x, local(xlvl) levelsof y, local(ylvl) local boxes foreach x of local xlvl &#123; foreach y of local ylvl &#123; local boxes `boxes&#39; (scatter y x if x==`x&#39; &amp; y==`y&#39;, msymbol(square) /// msize(5) mc(&quot;`color`x&#39;`y&#39;&#39;&quot;)) &#125; &#125; twoway`boxes&#39; (pcarrow spike1_y1 spike1_x1 spike1_y2 spike1_x2, lw(thin) /// lcolor(gs12) mcolor(gs12) mlabel(spike1_m) mlabpos(7) msize(0.8) /// headlabel mlabsize(2)) (pcarrow spike2_y1 spike2_x1 spike2_y2 spike2_x2, /// lw(thin) lcolor(gs12) mcolor(gs12) mlabel(spike2_m) mlabpos(10) msize(0.8) /// headlabel mlabangle(90) mlabgap(1.8) mlabsize(2)), xlabel(0 4, nogrid) /// ylabel(0 4, nogrid) aspectratio(1) xsize(1) ysize(1) fxsize(20) fysize(100) /// legend(off) ytitle(&quot;&quot;) xtitle(&quot;&quot;) xscale(off) yscale(off) /// name(bivar_legend2, replace) // combine the two graphs graph combine bivar_map2 bivar_legend2, imargin(zero) /// title(&quot;&#123;fontface Arial Bold:中国数字普惠金融的广度和深度&#125;&quot;, size(4.5)) /// subtitle(&quot;Colors defined by tercile cut-offs of digital finance extent in pronvinces of China&quot;, size(2.8)) /// note(&quot;郭峰等. 测度中国数字普惠金融发展: 指数编制与空间特征[J]. 经济学 (季刊), 2020, 19(4): 1401-1418.&quot;, /// size(2)) 空间计量之用 spmap 绘制地图在绘制地图时，大家可能会推荐 ArcGIS 等专业软件。然而，对于习惯使用 Stata 的用户而言，若数据管理、数据分析、绘图等各方面都能在 Stata 实现，那就太棒了！Stata 的绘图功能日益强大，能满足大多数可视化需求。现在，Stata 能通过外部命令 spmap 绘制出各式各样的地图，如下图所示： 本文将详细介绍如何使用 spmap 命令绘制各种常用的地图。 1. 命令简介外部命令 spmap (Pisati, 2007) 的前身为 tmap (Pisati, 2004)。Stata 15 版本的官方命令 grmap 改编自 spmap。相较 spmap， grmap 改动不大，但只用于空间数据 (spset data)。 由于篇幅有限，本推文只介绍 spmap。由于其命令的选项 (options) 较复杂，我们先熟悉绘制地图的一般步骤；再进一步了解其语法结构。 1.1 绘制步骤参考 「Stata 官网提供的 FAQ」)，绘制地图的一般步骤如下： 第一步：下载三个外部命令：spmap | shp2dta | mif2dta*-Step 1: Obtain and install the spmap, shp2dta, and mif2dta commands // 画地图的外部命令 ssc install spmap, replace // 将外部的 dbf 文件和 shp 文件转化为 dta 文件 ssc install shp2dta, replace // 将外部的 mif 文件和 mid 文件转化为 dta 文件 ssc install mif2dta, replace * 获得帮助文件 help spmap help shp2dta help mif2dta 第二步：下载描绘地图的矢量数据文件绘制地图时，一般需要两份数据：标签数据 (比如 ID 变量) 和地理坐标数据。对于后者，则有两种常用的矢量数据存储格式： ESRI shapefile （简称 shapefile）或 MapInfo Interchange Format。具体说明如下： ESRI shapefile 是美国环境系统研究所公司 (ESRI)) 开发的一种空间数据开放格式，用于存储地理要素的位置、形状和属性。Shapefile 通常有一个 .zip 压缩文件，包含多个文件，其中必须包括以下三个基本文件： 主文件 (*.shp)： 存储几何要素的的空间信息，也就是 XY 坐标。 索引文件 (*.shx)： 存储有关 .shp 存储的索引信息。它记录了在 .shp 中，空间数据是如何存储的，XY 坐标的输入点在哪里，有多少 XY 坐标对等信息。 表文件 (*.dbf)： 存储地理数据的属性信息的 dBase 表。 用 Stata 绘制地图时，我们只需要 shape (*.shp) 和 dBase (*.dbf) 两个文件。 shp2dta 命令能帮助我们分别将这两个文件转成 Stata 专属的 .dta 格式的数据。 MapInfo Interchange Format 是美国公司 MapInfo 开发的通用数据交换格式。这种格式是 ASCⅡ 码，可以编辑，易于生成，且可以工作在 MapInfo 支持的所有平台上。它将 MapInfo 数据保存于以下两个文件： *.mif 文件： 存储图形数据，可理解为 XY 坐标。 *.mid 文件： 存储文本（属性）数据。 用 Stata 绘制地图时， mif2dta 命令能帮助我们分别将 *.mif 和 *.mid 文件转成 Stata 专属的 .dta 格式的数据。 Stata 范例：Shapefiles 包含多种类型（比如，Polygon, Point, Polyine。）在绘制地图底图时，推荐使用 polygon shapefile。 一般地，ESRI shapefile 比 MapInfo Interchange Format 更易获得。我们可以在搜索引擎上获得 shapefiles。本例子中，我们使用美国地图 shapefile 数据。获得 shapefile 文件步骤如下： 在 谷歌 或 雅虎 上搜 “United States shapefile” 在搜索结果中找到 https://www.weather.gov/gis/USStates 下载 s_11au16.zip （注：文件名会随数据的更新而改变。） 解压文件，我们只需两个文件：s_11au16.shp 和 s_11au16.dbf更详细的操作介绍见下图： 第三步：将地图的矢量数据文件转成 Stata 格式数据文件利用命令 shp2dta 或 mif2dta 将地图的矢量数据文件转成 Stata .dta 格式的数据。 检查 .dbf (.mid) 文件经转换后对应的 .dta 数据。该数据为标签数据，包含 ID 变量（命名为 id），不同 id 对应不同区域划分。我们应该了解地图矢量数据的提供者是如何划分区域的。比如，在一份数据中， id=1 对应 Alaska，id=2 对应 Alabama；而在另一份数据中，id=1 对应 Albania，id=2 对应 Argentina。 *-Step 3: Translate the files * note:将数据放在当前工作路径 shp2dta using s_11au16, database(usdb) coordinates(uscoord) genid(id) 关于代码的一些说明： database(usdb) 将 database file 转换成 usdb.dta； coordinates(uscoord) 将 coordinate file 转换成 uscoord.dta； genid(id) 将 usdb.dta 中的 ID 变量命名为 id; 转换 MapInfo files 时，语法一致，只需将 shp2dta 换成 mif2dta。 转换后的两个 .dta 文件如下： 第四步：将作图所需数据文件转换成 Stata 格式文件具体而言，将我们需要作图的数据（attribute variable，比如，某年的人口数据）转换成 Stata 格式的 .dta 数据。 在绘制地图时，我们主要是通过标签数据中的 ID 变量连接（合并）地图数据和作图数据。我们需要保证不同数据中的 ID 变量对应的区域划分是一致的。 本例中，我们作图的数据为美国各州 1990 年的人口数据：stats.dta。 由于 stats.dta 中各州的 ID 变量为 scode ，与 usdb.dta 中的 ID 变量 id 编码不一致，我们生成一个中间文件 trans.dta，将 scode 与 id 对应起来。 *-Step 4: Determine the coding used by the map * note:将数据放在当前工作路径 use stats, clear merge 1:1 scode using trans Result # of obs. ----------------------------------------- not matched 0 matched 51 (_merge==3) ----------------------------------------- drop _merge *仔细检查合并的结果，确认无误后可删掉 _merge *- _merge 变量的含义： * _merge==1 obs. from master data * _merge==2 obs. from only one using dataset * _merge==3 obs. from at least two datasets, master or using 第五步：数据合并将 .dbf (.mid) 文件经转换后对应的 .dta 数据与我们需要作图的 .dta 数据进行合并。 *-Step 5: Merge datasets * note:将数据放在当前工作路径 merge 1:1 id using usdb Result # of obs. ----------------------------------------- not matched 6 from master 0 (_merge==1) from using 6 (_merge==2) matched 51 (_merge==3) ----------------------------------------- drop if _merge!=3 (6 observations deleted) drop _merge *仔细检查合并的结果，确定无误后可删掉多余观测值 ``` 第六步：用 spmap 命令绘图 最后一步啦！可以用 spmap 命令进行画图！show your data! *-Step 6: Draw the graph * 图1：不完美示范 spmap pop1990 using uscoord, id(id) fcolor(Blues) * 图2：进一步美化 replace pop1990 = pop1990/1e+6 * 改变单位，避免图例里显示的数字过大 format pop1990 %4.2f * 变量数据格式（整数与小数部分长度） spmap pop1990 using uscoord /// if id !=1 & id !=54 & /// id !=39 & id !=56, /// id(id) fcolor(Blues) 关于代码的一些说明： pop1990 是我们作图的数据（1990 年美国各州人口数据）。 using uscoord 是必填项。绘制地图地图时，必需坐标数据（本例子中坐标数据为 uscoord.dta）。 - id(id) 是必填项。 绘制地图地图时，必需不同区域划分的 ID 变量（本例子中命名为 id）。 fcolor(Blues) 是可选项，设置专题地图 (Choropleth map) 的填充颜色。本例中选用 Blues 主题，即以蓝色为主题色，不同区域会根据作图数据（本例中为人口数据）大小填充深浅不同的颜色。 clnumber(#) 是可选项，设置分组数。spmap 默认基于分位数，将作图数据（本例中为人口数据）分为四组；若要自定义组数，则可加上该选项。 if 命令的使用：本例中使用 if 去掉四个州，是因为这四个州分布过于分散，画出的图不美观。 两幅图的对比如下： 1.2 命令的语法该命令的基本语法如下： spmap [attribute] [if] [in] using basemap [, basemap_options polygon(polygon_suboptions) line(line_suboptions) point(point_suboptions) diagram(diagram_suboptions) arrow(arrow_suboptions) label(label_suboptions) scalebar(scalebar_suboptions) graph_options] 主要可选项说明如下： basemap_options 设置地图底图。 其中最重要的选项为 id(idvar)。该选项必须加上，用来识别不同区域划分的 ID 变量 idvar。 其他选项用来控制底图的四个方面： Cartogram（比如背景色）, Choropleth map（比如将作图数据分为几组）, Format（比如填充颜色）, Legend（比如是否显示图例）。 polygon(polygon_suboptions) 在底图基础上添加其他多边形。 line(line_suboptions) 在底图基础上添加线条。 point(point_suboptions) 在底图基础上添加点。 diagram(diagram_suboptions) 在底图基础上添加条形/扇形统计图。 arrow(arrow_suboptions) 在底图基础上添加箭头。 label(label_suboptions) 在底图基础上添加文字标签。 scalebar(scalebar_suboptions) 设置比例尺。 graph_options 与我们常规画图的选项 (twoway_options) 基本一致。 help spmap 获得更多详细信息。 2. Stata 范例目前，我们已经熟悉了绘制地图的一般步骤和语法结构。接下来我们将结合具体的例子进一步掌握 spmap 的使用方法。本节 2.2-2.4 的例子均来自 help spmap 帮助文件。官方提供的数据集可通过下述方式获得： net get spmap.pkg, from(http://fmwww.bc.edu/RePEc/bocode/s) 2.1 如何获得地图的矢量数据文件？用 Stata 绘制地图至少需要两份数据：带有标签 (比如 ID 变量) 的数据和地理坐标数据。在 spmap 中，标签数据被称为 “master” dataset，地理坐标数据被称为 “basemap” dataset。 因此，我们绘图前必须先下载地图的矢量数据文件。若能直接下载 .dta 格式文件，则无需转换格式；若只能下载 shapefile （或 MapInfo Interchange Format） 格式的文件，则需用 shp2dta （或 mif2dta ）将其转成 .dta 格式。 获得途径总结如下： 在搜索引擎上搜索关键词，比如 “中国地图 shapefile”。 在 GADM 网站上下载 shapefile 文件。该网站提供世界及世界各国的地图数据。 利用 Stata 命令，如下： *-获得中国地图数据 copy \"http://fmwww.bc.edu/repec/bocode/c/china_map.zip\" china_map.zip, replace unzipfile china_map, replace // 解压压缩文件 *-获得世界地图数据 use \"http://fmwww.bc.edu/repec/bocode/w/world-c.dta\",clear save world-c.dta use \"http://fmwww.bc.edu/repec/bocode/w/world-d.dta\",clear save world-d.dta 获得数据后，我们可利用 scatter 检查数据，看地图轮廓是否满足要求。 use \"china_map.dta\", clear scatter _Y _X, msize(vtiny) 2.2 Stata 范例 1: Choropleth mapsChoropleth map 可翻译为 分级统计地图。在这种地图中，每个区域以不同深浅度的颜色表示数据变量。此法因常用色级表示，所以也叫色级统计图法。我们可简单理解为 “地图+热力：颜色渐变常见“。 use \"Italy-RegionsData.dta\", clear #d ; spmap relig1 using \"Italy-RegionsCoordinates.dta\", id(id) title(\"Pct. Catholics without reservations\", size(*0.8)) subtitle(\"Italy, 1994-98\" \" \", size(*0.8)); #d cr use \"Italy-RegionsData.dta\", clear #d ; spmap relig1m using \"Italy-RegionsCoordinates.dta\", id(id) ndfcolor(red) clmethod(eqint) clnumber(5) eirange(20 70) title(\"Pct. Catholics without reservations\", size(*0.8)) subtitle(\"Italy, 1994-98\" \" \", size(*0.8)) legstyle(2) legend(region(lcolor(black))); #d cr use \"Italy-RegionsData.dta\", clear #d ; spmap relig1 using \"Italy-RegionsCoordinates.dta\", id(id) clnumber(20) fcolor(Reds2) ocolor(none ..) title(\"Pct. Catholics without reservations\", size(*0.8)) subtitle(\"Italy, 1994-98\" \" \", size(*0.8)) legstyle(3) legend(ring(1) position(3)); #d cr use \"Italy-RegionsData.dta\", clear #d ; spmap relig1 using \"Italy-RegionsCoordinates.dta\", id(id) clnumber(20) fcolor(Greens2) ocolor(white ..) osize(thin ..) title(\"Pct. Catholics without reservations\", size(*0.8)) subtitle(\"Italy, 1994-98\" \" \", size(*0.8)) legstyle(3) legend(ring(1) position(3)) plotregion(icolor(stone)) graphregion(icolor(stone)) polygon(data(\"Italy-Highlights.dta\") ocolor(white) osize(medthick)) scalebar(units(500) scale(1/1000) xpos(-100) label(Kilometers)); #d cr 关于代码的一些说明： 官方直接提供了 dta 文件，所以我们在绘制地图时省略 shp2dta 或 mif2dta 转换地图矢量数据文件的步骤。 ndfcolor(red) 用红色表示缺失数据区域。 clmethod(...) 设置作图数据分组方式，默认是根据分位数分为 4 组。 括号里可选填 quantile, boxplot, eqint, stdev, kmeans, custom, unique。 clmethod(eqint) clnumber(5) eirange(20 70)：将作图数据按 20-70 范围等分为 5 组。 clunmber(#) 设置分组数。 legstyle(#) 设置图例显示模式，默认为 1，可选 2,3。 1 显示为 (num,num]；2 显示为 num-num；3 为色卡。 legend(...) 设置图例是否带框线、摆放位置等。 fcolor(...) 设置填充颜色。 icolor(...) 设置背景色。 ocolor(...) 设置区域边界颜色。 osize(...) 设置区域边界线宽度。 polygon(...) 在底图 (basemap) 上添加其他多边形。 scalebar(...) 设置比例尺。 2.3 Stata 范例 2: Proportional symbol mapsProportional symbol map 可理解为 带气泡的地图 (Bubble Map)。在这种地图中，气泡的面积代表了这个数据的大小。我们可简单理解为 “地图+气泡：圆越大数越大“。 我们可以通过添加选项 point(... proportional(propvar_pn) ...) 完成带气泡的地图。若我们想将气泡（圆）变成其他符号（比如为正方形），可在里面添加子选项 shape(s)。 若在该选项中去掉子选项 proportional(propvar_pn)，则该图可退化为 点描法地图 (dot map)，即气泡变为大小相等的点。我们可简单理解为 “地图+点：哪里有数点哪里“。 use \"Italy-OutlineData.dta\", clear #d; spmap using \"Italy-OutlineCoordinates.dta\", id(id) title(\"Pct. Catholics without reservations\", size(*0.8)) subtitle(\"Italy, 1994-98\" \" \", size(*0.8)) point(data(\"Italy-RegionsData.dta\") xcoord(xcoord) ycoord(ycoord) deviation(relig1) fcolor(red) dmax(30) legenda(on) leglabel(Deviation from the mean)); #d cr use \"Italy-OutlineData.dta\", clear #d; spmap using \"Italy-OutlineCoordinates.dta\", id(id) title(\"Pct. Catholics without reservations\", size(*0.8)) subtitle(\"Italy, 1994-98\" \" \", size(*0.8)) point(data(\"Italy-RegionsData.dta\") xcoord(xcoord) ycoord(ycoord) proportional(relig1) fcolor(green) ocolor(white) size(*3)) label(data(\"Italy-RegionsData.dta\") xcoord(xcoord) ycoord(ycoord) label(relig1) color(white) size(*0.7)); #d cr 关于代码的一些说明： point(…)在底图 (basemap) 上添加点。 label(...) 在底图 (basemap) 上添加标签（比如地名，数字等）。 2.4 Stata 范例 3: Other maps我们还可以通过 spmap 画其他类型的图，比如在地图上添加条形图/扇形图。 use \"Italy-RegionsData.dta\", clear #d ; spmap using \"Italy-RegionsCoordinates.dta\", id(id) fcolor(stone) title(\"Pct. Catholics without reservations\", size(*0.8)) subtitle(\"Italy, 1994-98\" \" \", size(*0.8)) diagram(variable(relig1) range(0 100) refweight(pop98) xcoord(xcoord) ycoord(ycoord) fcolor(red)); #d cr use \"Italy-RegionsData.dta\", clear #d ; spmap using \"Italy-RegionsCoordinates.dta\", id(id) fcolor(stone) diagram(variable(relig1 relig2 relig3) proportional(fortell) xcoord(xcoord) ycoord(ycoord) legenda(on)) legend(title(\"Religious orientation\", size(*0.5) bexpand justification(left))) note(\" \" \"NOTE: Chart size proportional to number of fortune tellers per million population\", size(*0.75)); #d cr use \"Italy-OutlineData.dta\", clear #d ; spmap using \"Italy-OutlineCoordinates.dta\", id(id) fc(bluishgray) ocolor(none) title(\"Provincial capitals\" \" \", size(*0.9) color(white)) point(data(\"Italy-Capitals.dta\") xcoord(xcoord) ycoord(ycoord) by(size) fcolor(orange red maroon) shape(s ..) legenda(on)) legend(title(\"Population 1998\", size(*0.5) bexpand justification(left)) region(lcolor(black) fcolor(white)) position(2)) plotregion(margin(medium) icolor(dknavy) color(dknavy)) graphregion(icolor(dknavy) color(dknavy)); #d cr use \"Italy-RegionsData.dta\", clear #d ; spmap relig1 using \"Italy-RegionsCoordinates.dta\" if zone==1, id(id) fcolor(Blues2) ocolor(white ..) osize(medthin ..) title(\"Pct. Catholics without reservations\", size(*0.8)) subtitle(\"Northern Italy, 1994-98\" \" \", size(*0.8)) polygon(data(\"Italy-OutlineCoordinates.dta\") fcolor(gs12) ocolor(white) osize(medthin)) polyfirst; #d cr use \"Italy-OutlineData.dta\", clear #d ; spmap using \"Italy-OutlineCoordinates.dta\", id(id) fc(sand) title(\"Main lakes and rivers\" \" \", size(*0.9)) polygon(data(\"Italy-Lakes.dta\") fcolor(blue) ocolor(blue)) line(data(\"Italy-Rivers.dta\") color(blue) ) freestyle aspect(1.4) xlab(400000 900000 1400000, grid); #d cr 关于代码的一些说明： polygon(...) 在底图 (basemap) 上添加其他多边形。 point(...) 在底图 (basemap) 上添加点。 line(...) 在底图 (basemap) 上添加线条。 绘制比较复杂的地图时，常用上述三个命令在底图 (basemap) 上叠加图层。 小结用 Stata 绘制地图有两个关键点：一是获得地图的矢量数据文件，熟悉数据结构；二是熟悉命令 spmap 的语法结构。 基于Stata绘制2022年中国34个省域GDP空间分位图的演示一、引言 可以绘制地图的软件除了ArcGIS以外，Stata、SAS等软件也可以。因为ASEF主要基于ArcGIS和Stata做相关研究，所以在特定环境下它更倾向于采用Stata绘制地图。Stata绘制地图的命令有官方命令grmap、非官方命令spmap等。关于spmap命令的演示，ASEF之前做过推文(基于Stata的ESDA（探索性空间数据分析）代码解析与实操验证)，不再赘述。今天与大家一起学习，如何采用grmap命令绘制规范的中国标准地图。 二、演示 下面采用2022年中国34个省域的GDP数据进行空间分位图绘制演示。本演示共有四部分组成：（1）制作填色地图标签文件；（2）制作填色地图的值（本案例中为2022年中国34个省域的GDP）文件；（3）制作指北针文件；（4）绘制2022年中国34个省域GDP空间分位图。 第一部分为制作填色地图标签文件，程序如下： clear input Y X strL cname strL ename 2070000 155000 1000km 1000km 2200000 2480000 南海诸岛 \"South China Sea\" 2545645 577264 海南 HAINAN 2606862 -596605 N N 2793167 904743 澳门 MACAO SAR 2924472 1216567 香港 HONG KONG SAR 3033598 454021 广西 GUANGXI ZHUANGZU ZIZHIQU 3117659 901401 广东 GUANGDONG 3147149 -364398 云南 YUNAN 3171792 1723148 台湾 TAIWAN 3337393 223839 贵州 GUIZHOU 3359174 1310984 福建 FUJIAN 3448290 704352 湖南 HUNAN 3492625 1055225 江西 JIANGXI 3716572 273824 重庆 CHONGQING SHI 3753226 1458284 浙江 ZHEJIANG 3773471 -212006 四川 SICHUAN 3846593 688818 湖北 HUBEI 3994884 1142714 安徽 ANHUI 3997977 1543993 上海 SHANGHAI SHI 4038557 -1532343 西藏 XIZANG ZIZHIQU 4156136 1325927 江苏 JIANGSU 4174676 780159 河南 HENAN 4179103 341037 陕西 SHAANXI 4264787 -22066 甘肃 GANSU 4381696 -792836 青海 QINGHAI 4495014 1142137 山东 SHANDONG 4501152 99684 宁夏 NINGXIA HUIZU ZIZHIQU 4559114 621816 山西 SHANXI 4656767 917719 河北 HEBEI 4800073 1154470 天津 TIANJIN SHI 4936223 425619 内蒙古 \"NEI MOGOL ZIZHIQU\" 4981659 934732 北京 BEIJING SHI 5093605 1407783 辽宁 LIAONING 5113455 -1609429 新疆 XINJIANG ZIZHIQU 5409037 1625827 吉林 JILIN 5866667 1623938 黑龙江 HEILONGJIANG end compress save 填色地图_标签, replace 第二部分为制作填色地图的值文件，程序如下： clear input 省代码 strL 省 ID GDP 110000 北京 1 4.16 120000 天津 2 1.63 130000 河北 3 4.24 140000 山西 4 2.56 150000 内蒙古 5 2.32 210000 辽宁 6 2.9 220000 吉林 8 1.31 230000 黑龙江 9 1.59 310000 上海 10 4.47 320000 江苏 11 12.29 330000 浙江 12 7.77 340000 安徽 13 4.5 350000 福建 14 5.31 360000 江西 15 3.21 370000 山东 16 8.74 410000 河南 17 6.13 420000 湖北 18 5.37 430000 湖南 19 4.87 440000 广东 20 12.91 450000 广西 21 2.63 460000 海南 22 0.68 500000 重庆市 23 2.91 510000 四川 24 5.67 520000 贵州 25 2.02 530000 云南 26 2.9 540000 西藏 27 0.21 610000 陕西 28 3.28 620000 甘肃 29 1.12 630000 青海 30 0.36 640000 宁夏 31 0.51 650000 新疆 32 1.77 710000 台湾 33 5.13 810000 香港 34 2.77 820000 澳门 35 0.22 end compress save 填色地图_值, replace 第三部分为制作指北针文件，程序如下： clear input _ID _X _Y value 38 . . 1 38 -600000 2200000 1 38 -600000 2500000 1 38 -500000 2160000 1 38 -600000 2200000 1 39 . . 1 39 -850000 2000000 1 39 -850000 2080000 1 39 -600000 2080000 1 39 -600000 2000000 1 39 -850000 2000000 1 39 . . 1 39 -350000 2000000 1 39 -350000 2080000 1 39 -100000 2080000 1 39 -100000 2000000 1 39 -350000 2000000 1 end save 填色地图_指北针, replace 第四部分为绘制2022年中国34个省域GDP空间分位图，程序如下： use 填色地图_值, clear grmap GDP using chinaprov40_coord, id(ID) osize(vvthin ...) ocolor(white ...) clmethod(custom) clbreaks(-1 0 0.5 2 3 8 13) \\\\\\ fcolor(gray \"254 237 222\" \"253 190 133\" \"253 141 60\" \"230 85 13\" \"166 54 3\") \\\\\\ leg(order(2 \"No Data\" 3 \"< 0.5\" 4 \"0.5～2\" 5 \"2～3\" 6 \"3～8\" 7 \"> 8\")) \\\\\\ graphr(margin(medium)) \\\\\\ line(data(chinaprov40_line_coord.dta) select(keep if inlist(group, 1, 2, 3, 4, 5, 6)) by(group) size(vvthin *1 *0.5 *1.2 *0.5 *0.5) pattern(solid ...) color(white black \"0 85 170\" \"24 188 156\" black black)) \\\\\\ polygon(data(填色地图_指北针) fcolor(black) osize(vvthin)) \\\\\\ label(data(填色地图_标签) x(X) y(Y) label(cname) length(20) size(*0.6)) \\\\\\ ti(\"2022年中国34个省域GDP空间分位图\") gr export 填色地图_输出.png, replace width(1200) 成图见图1。图1显示，2022年，广东、江苏、山东的GDP均居于全国前三名。 图1","categories":[{"name":"实证","slug":"实证","permalink":"http://xiahanlin1993.github.io/categories/%E5%AE%9E%E8%AF%81/"}],"tags":[{"name":"Stata","slug":"Stata","permalink":"http://xiahanlin1993.github.io/tags/Stata/"},{"name":"画图","slug":"画图","permalink":"http://xiahanlin1993.github.io/tags/%E7%94%BB%E5%9B%BE/"}],"author":"夏汉林"},{"title":"STATA常用命令汇集","slug":"STATA常用命令汇集","date":"2023-02-17T07:08:17.000Z","updated":"2023-02-17T18:00:36.410Z","comments":true,"path":"2023/02/17/stata-chang-yong-ming-ling-hui-ji/","link":"","permalink":"http://xiahanlin1993.github.io/2023/02/17/stata-chang-yong-ming-ling-hui-ji/","excerpt":"","text":"均值t检验ttest：即 t tests (mean-comparison tests)，简单来说，在t检验的假设都满足的前提下，如满足正态分布，如同方差假定，比较不同的数据的均值，以判断数据之间是否存在差异。 常用两样本t检验：命令：ttest varname,by(groupvar)，即检验不同分组下，观察值的均值是否存在显著差异。若无同方差假定，或数据本身不同方差，则要加上unequal 选项。 至于上面t检验怎么看，主要是看p值，若p值较小，则拒绝原假设，差异是显著的；若p值较大，则接受原假设，差异并不显著。 结果导出： esttab 参考： 1、用好 esttab，导遍表格都不怕 2、用好esttab，导遍表格都不怕[进阶操作] 3、Stata 回归表格输出之 esttab 详解 logout2 基本使用形式： logout2 [m1 m2 m3] using filename , word/excel replace +[other options] sysuse nlsw88,clear tab race,gen(d_race) drop d_race1 tab occu,gen(d_occu) drop d_occu1 //分别生产人种、职业虚拟变量 reg wage hours ttl_exp married est sto m1 reg wage hours ttl_exp married d_race* est sto m2 reg wage hours ttl_exp married d_race* d_occu* est sto m3 outreg2 [m1 m2 m3] using out1,replace excel /// drop(d_occu*) sortvar(married hours) /// tdec(2) rdec(3) adjr2 e(F) tstat /// nonote /// addnote(\"注：（1）。。。 /// （2）。。。\"） 述命令中，excel表示输出excel文件，drop(d_occu*)表示不再表中展示职业虚拟变量的回归结果（太多了），sortvar可以调整回归表中变量的顺序，tdec、rdec分别表示设定t统计量与R2 保留的小数位数，adjr2,e(F)分别表示表中展示调整后的R2 、F统计量，tstat表示估计系数下方展示 t 统计量，相应的若改为pvalue可以呈现显著性水平；nonote表示不展示默认的英文注释，addnote可以自己加入自己的回归结果注释。 同时，outreg2还可以通过append选项继续追加回归结果。下面将logit回归结果加入上文out1估计结果中： logit union wage married wage d_race* d_occu* est sto logit outreg2 [logit] using out1,excel append 相关系数 皮尔逊相关系数：corr x y z（从整体上计算）；pwcorr x y z（两两计算） 斯皮尔曼相关系数：spearman x y z（从整体上计算）；spearman x y z, pw（两两计算） Pearson 相关系数 corr price weight length mpg pwcorr var1 var2 pwcorr price weight length mpg,sig pwcorr price weight length mpg,star(0.01) * pwcorr 的缺陷在于，默认保留小数点后四位小数，且无法调整，不符合一般期刊的格式要求 Spearman 相关系数 sysuse auto,clear spearman mpg rep78 //Two variables; output displayed in tabular form by default spearman mpg rep78, matrix //Two variables; output displayed in matrix form spearman mpg price rep78, pw //Use all nonmissing observations between a pair of variables spearman mpg price rep78, pw star(0.05) // Star all correlation coefficients significant at the 5% level or lower Pearson &amp;Spearman 系数合并显示 corsp mpg price rep78,format(%7.3f) corsp mpg price rep78 Pearson &amp;Spearman 系数的区别如果变量同时满足以下三个条件，Pearson &amp;Spearman 系数都可以使用，此时使用Pearson 系数更好①连续变量②正态分布③ 线性关系以上任意一个条件不满足，只能使用spearman 相关系数，不能用 Pearson 相关系数.","categories":[{"name":"计量","slug":"计量","permalink":"http://xiahanlin1993.github.io/categories/%E8%AE%A1%E9%87%8F/"}],"tags":[{"name":"Stata","slug":"Stata","permalink":"http://xiahanlin1993.github.io/tags/Stata/"},{"name":"实证","slug":"实证","permalink":"http://xiahanlin1993.github.io/tags/%E5%AE%9E%E8%AF%81/"}],"author":"夏汉林"},{"title":"重要资料汇集（定期整理）","slug":"重要资料汇集（定期整理）","date":"2023-02-16T10:41:06.000Z","updated":"2023-02-16T16:07:24.160Z","comments":true,"path":"2023/02/16/chong-yao-zi-liao-hui-ji-ding-qi-zheng-li/","link":"","permalink":"http://xiahanlin1993.github.io/2023/02/16/chong-yao-zi-liao-hui-ji-ding-qi-zheng-li/","excerpt":"","text":"John Rogers 讲义1：Inflation Shocks and Asset Prices Around the World（June 2022） Three Topics：The Outlook and the Fed U.S. Inflation Expectations measurement：Survey-based（Survey of Consumer Expectations (New York Fed)，University of Michigan Survey of Consumers，Survey of Professional Forecasters (Philadelphia Fed)）， Model-based（ Cleveland Fed），Market-based（Nominal minus real (TIPS) Treasury yields，breakeven inflation rate，10-Year Breakeven Inflation Rate，5-Year Breakeven Inflation Rate） Global stock markets Stock price reflects present discounted value of future corp. earnings. Expected higher interest rates reduce the pdv of earnings, all else constant, and lower stock price today 讲义2：U.S. Monetary Policy and the World Capital Market（Sept 2022） Four Central Banks：Fed, ECB, BOE, and BOJ Four Topics：Mandates and Methods of Policy Implementation，The Outlook，Recent Monetary Policy Actions，Exchange Rates What should the Fed set the FFR at now?-Taylor Rule ECB:“MBM” operating framework UK：Bank Rate Four Exchange Rates Theory difference in interest rates between countries. Tighter monetary policy at home raises real interest rates and appreciates home currency difference in real economic activity (like GDP) between countries. Greater activity at home increases demand for currency and appreciates home currency Seems like ‘yes’ for currencies and ‘no’ for stocks: if U.S. data releases are better (worse) than expected, belief the Fed will (will not) continue to raise interest rates. Thus, good news helps rally stocks but hurts the USD. Fed put：The “Fed Put” is a commonly used term in financial markets to describe the belief that many market practitioners hold that the U.S. Federal Reserve (the Fed) will step in with accommodative monetary policy to buoy markets, specifically the U.S. equity market, if prices fall too fast too quickly. 余永定书籍： 《太阳之下无新事》：本书梳理了作者回国后撰写的有关中国宏观经济形势和宏观经济政策的主要文章。主要包括两个方面：一是对中国宏观经济中、短期变化趋势的判断；二是对中国宏观经济的一些争议问题的理论探讨。 《见证失衡：:双顺差、人民币汇率和美元陷阱》：作为有影响力的经济学家，作者十多年来一直呼吁遏制中国经济的双顺差，理顺中国经济与世界经济的关系，但却并不如愿。今日中美经济关系的严重扭曲，使我们有必要重新审视作者当年的忧虑。《见证失衡:双顺差、人民币汇率和美元陷阱》遴选其三十多篇代表作品，以年代为序，试图表现作者一脉相承的见解，同时也表达了一个经济学家敢于反思研究历程并接受历史检验的勇气。 演讲： 余永定：2022年中国宏观经济政策 PPT 工作论文版本 媒体版本 注：可以学习一下这个分析问题的思路（深度） 1.GDP增速。针对2022年GDP增长目标5.5%，从消费、净出口、投资三方面进行拆解（有一定的数据假设）。针对投资，又可以拆解为房地产、制造业、基建，基建进一步细分为12个子行业。 2.基建投资。增速低迷的原因：地方政府积极性、融资成本和融资量成正比的怪现象。调整：扩张性财政政策、放宽货币政策 3.金融风险与稳增长之间的平衡，向稳增长倾斜。 4.财政政策。财政政策的扩张与否不能直接看G-T，要看一般公共预算对经济的刺激作用（扣除资金跨时跨账户的转移支付）。中国公共预算：一般公共预算+政府性基金+国有资本经营+社会保险 5.货币政策.通货膨胀压力减少，PPI下降；但美通货膨胀压力大，且发生俄乌战争；源于供给冲击不能通过紧缩性货币政策。汇率浮动要保持定力，除非发现非常情况，不要对汇率进行干预。货币政策的根本目的：稳增长、物价稳定。 6.美对俄的金融制裁 6.1制裁措施：封锁国际金融 选定银行从SWIFT中删除（但最大两家未删除，因为欧洲对俄罗斯石油天然气的依赖） 冻结俄罗斯央行外储（核弹） 系统性重要银行列入CAPTA（不能进入美国市场） 冻结俄罗斯海外富豪资产 SDN名单（不得提取存款） 补充：国际结算三要素 报文系统 发起和接收银行 清算、结算系统 6.2 影响：石油、粮食、大宗商品 6.3 美国目的：使得俄罗斯短期造成动荡、无法支持战争，长期经济无法发展 6.4 俄罗斯国际收支状况和海外投资头寸：净债权国 6.5 对俄罗斯的影响：股市暴跌、汇率暴跌、升息（汇率稳定三条路径：央行干预、升息、资本管制） 7. 中国海外资产的安全性问题，中国是美国的最大债权国 林毅夫林毅夫解读2022政府工作报告及中国经济发展前景解析 视频 笔记 宏观观察 中国宏观经济论坛（CMF):三重压力叠加超预期变化的宏观经济(2022.4.20月度分析会) 视频 PPT 图文报道（微信） 笔记","categories":[{"name":"资料","slug":"资料","permalink":"http://xiahanlin1993.github.io/categories/%E8%B5%84%E6%96%99/"}],"tags":[{"name":"知识","slug":"知识","permalink":"http://xiahanlin1993.github.io/tags/%E7%9F%A5%E8%AF%86/"},{"name":"生活","slug":"生活","permalink":"http://xiahanlin1993.github.io/tags/%E7%94%9F%E6%B4%BB/"},{"name":"投资","slug":"投资","permalink":"http://xiahanlin1993.github.io/tags/%E6%8A%95%E8%B5%84/"}],"author":"夏汉林"},{"title":"经济学论文数据与代码——期刊、平台和个人","slug":"经济学论文数据与代码——期刊、平台和个人","date":"2023-02-15T14:53:09.000Z","updated":"2023-02-15T19:20:24.949Z","comments":true,"path":"2023/02/15/jing-ji-xue-lun-wen-shu-ju-yu-dai-ma-qi-kan-ping-tai-he-ge-ren/","link":"","permalink":"http://xiahanlin1993.github.io/2023/02/15/jing-ji-xue-lun-wen-shu-ju-yu-dai-ma-qi-kan-ping-tai-he-ge-ren/","excerpt":"","text":"学术期刊网站 经济学Top5期刊 American Economic Review AEA官网论文Additional Materials： https://www.aeaweb.org/journals/aer/issues OpenICPSR网站： https://www.icpsr.umich.edu/web/ICPSR/search/publications?start=0&amp;COLLECTION=DATA&amp;ARCHIVE=ICPSR&amp;JOURNAL=American%20Economic%20Review&amp;sort=YEAR_PUB_DATE%20desc,AUTHORS_SORT%20asc The Quarterly Journal of Economics Harvard Dataverse https://dataverse.harvard.edu/dataverse/qje Econometrica 官网论文Data &amp; Programs https://onlinelibrary.wiley.com/journal/14680262 econometric society 发表在ECONOMETRICA上的论文可以在这个网站找到code和数据集。 Journal of Political Economy 官网论文Supplemental Material https://www.journals.uchicago.edu/toc/jpe/current The Review of Economic Studies 官网论文Supplementary data https://academic.oup.com/restud 金融学Top3期刊 The Journal of Finance 官网论文Supporting Information https://onlinelibrary.wiley.com/toc/15406261/current Journal of Financial Economics 2021年7月1日之前的论文： https://www.jfinec.com/data-and-code 2021年7月1日之后的论文，见ScienceDirect官网链接或以下网址： https://data.mendeley.com/journal/0304405X Review of Financial Studies Supplementary data https://dataverse.harvard.edu/dataverse/rfs 其他经济学期刊：劳动、能源、计量、统计 Review of Economics and Statistics https://dataverse.harvard.edu/dataverse/restat Journal of Labor Economics Supplemental Material https://www.journals.uchicago.edu/toc/jole/current Energy Economics Latest Mendeley Data Datasets https://www.journals.elsevier.com/energy-economics/mendeley-datasets The Economic Journal Data &amp; Codes 基本都有代码 https://academic.oup.com/ej European Economic Review 部分有代码 https://www.journals.elsevier.com/european-economic-review Journal of Economics and Statistics Data &amp; Programs https://journaldata.zbw.eu/journals/jbnst Journal of Statistics Software Data &amp; Programs https://www.jstatsoft.org/ Journal of Applied Econometrics Data Archive 基本都有代码 https://journaldata.zbw.eu/journals/jae Review of Economic Dynamics Computer Codes 基本都有代码 https://ideas.repec.org/s/red/ccodes.html PLOS ONE Data-availability https://journals.plos.org/plosone/ Journal of the European Economic Association https://academic.oup.com/jeea/issue/21/1 American Economic Journal:Applied Economics https://www.aeaweb.org/journals/app quantitative economics https://www.econometricsociety.org/publications/quantitative-economics 中文期刊 《中国工业经济》国内经管类期刊首位公开数据的期刊，从2016年11期起，开放获取论文原文、数据、代码 http://ciejournal.ajcass.org/ 数量经济技术经济研究：从2022年9期起，开放获取论文原文、数据、代码。 http://www.jqte.net/sljjjsjjyj/ch/index.aspx 02 数据和代码分享平台 Wharton Research Data Services（WRDS）WRDS是由宾夕法尼亚大学沃顿商学院于1993年开发的金融领域的跨库研究工具，可以整合Compustat、CRSP、TFN(THOMSON)、TAQ、IBES等多个著名数据库产品，同时还是一个研究人员分享数据和代码的社区。 https://wrds-www.wharton.upenn.edu/ 哈佛大学Dataverse网站 Dataverse是哈佛大学主办的研究数据、代码的储存和分享网站。 https://dataverse.harvard.edu/ OpenICPSR网站 ICPSR是密歇根大学主办的论文数据分享网站。 https://www.openicpsr.org/openicpsr/search/studies https://www.icpsr.umich.edu/ Mendeley平台 Mendeley平台提供的论文数据检索网站。 https://data.mendeley.com/ Find Economic Articles with Data 德国乌尔姆大学（Ulm University）创建的查找经济学论文实证数据的网站。 https://ejd.econ.mathematik.uni-ulm.de/ Replication WIKI Replication WIKI是哥廷根大学主办的实证研究的数据库，主要提供经济学论文复制研究的数据以及代码。 http://replication.uni-goettingen.de/wiki/index.php/Main_Page 03 学者个人主页 Kenneth R. French http://mba.tuck.dartmouth.edu/pages/faculty/ken.french/data_library.html Hou-Xue-Zhang q-factors data library https://global-q.org/index.html Joshua Angrist http://economics.mit.edu/faculty/angrist/data1 Esther Duflo http://economics.mit.edu/faculty/eduflo/papers Daron Acemoglu http://economics.mit.edu/faculty/acemoglu/data Nathan Nunn https://scholar.harvard.edu/nunn/home Raj Chetty http://www.rajchetty.com/papers-chronological/ Ross Levine http://faculty.haas.berkeley.edu/ross_levine/papers.htm Itay Saporta-Eksten https://www.tau.ac.il/~itaysap/research.html Daniel Taylor http://acct.wharton.upenn.edu/~dtayl/code.htm https://danieltayloranalytics.com/data/ Michael Greenstone（环境经济学） https://www.michaelgreenstone.com/ James D. Hamilton https://econweb.ucsd.edu/~jhamilto/ Melissa Dell（“RDD女王”） https://scholar.harvard.edu/dell Tao Zha http://www.tzha.net/code Haroon Mumtaz https://sites.google.com/site/hmumtaz77/ Ambrogio Cesa-Bianchi https://sites.google.com/site/ambropo/replications Gary Koop https://sites.google.com/site/garykoop/home/computer-code-2 Dimitris Korobilis https://sites.google.com/site/dimitriskorobilis/matlab Joshua Chan http://joshuachan.org/code.html Kaiji Motegi’s Website http://www2.kobe-u.ac.jp/~motegi/Matlab_Codes.html Robert F. Stambaugh https://finance.wharton.upenn.edu/~stambaug/ Dacheng Xiu https://dachxiu.chicagobooth.edu/ Pol Antràs https://scholar.harvard.edu/antras/pages/data Robert J. Barro https://scholar.harvard.edu/barro/data_sets Richard B. Freeman https://scholar.harvard.edu/freeman/data-available-public Elhanan Helpman https://scholar.harvard.edu/helpman/pages/data-1","categories":[{"name":"实证","slug":"实证","permalink":"http://xiahanlin1993.github.io/categories/%E5%AE%9E%E8%AF%81/"}],"tags":[{"name":"数据","slug":"数据","permalink":"http://xiahanlin1993.github.io/tags/%E6%95%B0%E6%8D%AE/"},{"name":"代码","slug":"代码","permalink":"http://xiahanlin1993.github.io/tags/%E4%BB%A3%E7%A0%81/"}],"author":"夏汉林"},{"title":"China's economy and finance","slug":"China's economy and finance","date":"2023-02-15T14:30:32.000Z","updated":"2023-02-15T19:20:30.446Z","comments":true,"path":"2023/02/15/china-s-economy-and-finance/","link":"","permalink":"http://xiahanlin1993.github.io/2023/02/15/china-s-economy-and-finance/","excerpt":"","text":"经济政策的效果 Bai C E, Hsieh C T, Song Z M. （ 2016）.The Long Shadow of China’s Fiscal Expansion,appendix 解释中国的经济增长 Song Z, Storesletten K, Zilibotti F.(2011)Growing like China, Technical Appendix, Code, Errata Xiong W. The mandarin model of growth. NBER, 2018. Bai C E, Hsieh C T, Song Z(2020)Special Deals with Chinese Characteristics","categories":[{"name":"事实","slug":"事实","permalink":"http://xiahanlin1993.github.io/categories/%E4%BA%8B%E5%AE%9E/"}],"tags":[{"name":"中国经济","slug":"中国经济","permalink":"http://xiahanlin1993.github.io/tags/%E4%B8%AD%E5%9B%BD%E7%BB%8F%E6%B5%8E/"},{"name":"中国金融","slug":"中国金融","permalink":"http://xiahanlin1993.github.io/tags/%E4%B8%AD%E5%9B%BD%E9%87%91%E8%9E%8D/"}],"author":"夏汉林"},{"title":"VAR类模型","slug":"VAR类模型","date":"2023-02-15T13:24:05.000Z","updated":"2023-02-15T19:20:58.878Z","comments":true,"path":"2023/02/15/var-lei-mo-xing/","link":"","permalink":"http://xiahanlin1993.github.io/2023/02/15/var-lei-mo-xing/","excerpt":"","text":"TVAR Piergiorgio Alessandri, Haroon Mumtaz 2017, Financial conditions and density forecasts for US output and inflation, Review of Economic Dynamics (Code) Example：Two regime threshold VAR model estimated via the algorithm in Chen and Lee (2004) Haroon Mumtaz 提供如下VAR模型的代码 Panel Threshold VAR with hierarchical prior Panel VAR with hierarchical prior TVP VAR with stochastic volatility Two regime threshold VAR model estimated via the algorithm in Chen and Lee (2004) . Two regime Markov Switching VAR with time-varying transition probabilities. Uses an example US dataset. Two regime Markov Switching VAR. Uses an example US dataset. A VAR with sign restrictions. A Factor-Augmented VAR model. A Factor-Augmented VAR model with time-varying parameters. This is an example of the model used in this paper. A VAR model with stochastic volatility in mean. This is an example of the model used in this paper. Notes and Code on Applied Bayesian Econometrics for Central Bankers. (Code)","categories":[{"name":"计量","slug":"计量","permalink":"http://xiahanlin1993.github.io/categories/%E8%AE%A1%E9%87%8F/"}],"tags":[{"name":"VAR","slug":"VAR","permalink":"http://xiahanlin1993.github.io/tags/VAR/"},{"name":"SVAR","slug":"SVAR","permalink":"http://xiahanlin1993.github.io/tags/SVAR/"},{"name":"TVAR","slug":"TVAR","permalink":"http://xiahanlin1993.github.io/tags/TVAR/"},{"name":"FAVAR","slug":"FAVAR","permalink":"http://xiahanlin1993.github.io/tags/FAVAR/"}],"author":"夏汉林"},{"title":"有用的计量工具箱","slug":"有用的计量工具箱","date":"2023-02-15T10:27:28.000Z","updated":"2023-02-15T19:21:03.876Z","comments":true,"path":"2023/02/15/you-yong-de-ji-liang-gong-ju-xiang/","link":"","permalink":"http://xiahanlin1993.github.io/2023/02/15/you-yong-de-ji-liang-gong-ju-xiang/","excerpt":"","text":"Ambrogio Cesa-BianchiDSGE Bayesian Toolbox (ZIP) A toolbox for the analysis of DSGE models estimated with Bayesian techniques This toolbox uses the standard output of Dynare to: (i) plot the Markov chain Monte Carlo (MCMC), (ii) plot the ergodic distribution of the posterior distribution, (iii) plot the prior versus the posterior distribution, together with the mode of the posterior, (iv) assess the convergence of the MCMC chain through CUSUM procedure, and (v) compare the correlation between the parameters implied by the Hessian and the chain. The toolbox makes use of few Matlab routines of Dynare. The following example uses as an input the replication of F. Schorfheide (2000) “Loss function-based evaluation of DSGE models“ Journal of Applied Econometrics, 15, 645-670, available on the Dynare website. The convergence of the Markov chain Monte Carlo is assessed with the DSGE Bayesian Toolbox. [Example Code (ZIP)] VAR Toolbox 3.0 A toolbox for VAR analysis The VAR Toolbox is a collection of Matlab codes to perform Vector Autoregression (VAR) analysis. Estimation is performed with OLS. The VAR Toolbox allows for identification of structural shocks with zero short-run restrictions; zero long-run restrictions; sign restrictions; external instruments (proxy SVAR); and a combination of external instruments and sign restrictions. Impulse Response Functions (IR), Forecast Error Variance Decomposition (VD), and Historical Decompositions (HD) are computed according to the chosen identification. Confidence intervals are obtained with bootstrapping methods. Vector Autoregressions: A Primer A simple primer on VARs (slides and accompanying Matlab codes) using VAR Toolbox is available at the following links: [Matlab Code] [Slides] The BEAR toolboxDieppe, Alistair, van Roye, Björn The Bayesian Estimation, Analysis and Regression toolbox (BEAR) is a comprehensive (Bayesian Panel) VAR toolbox for forecasting and policy analysis. BEAR is a MATLAB based toolbox which is easy for non-technical users to understand, augment and adapt. In particular, BEAR includes a user-friendly graphical interface which allows the tool to be used by country desk economists. Furthermore, BEAR is well documented, both within the code as well as including a detailed theoretical and user’s guide. BEAR includes state-of-the art applications such as FAVARs, stochastic volatility, time-varying parameters, mixed-frequency, sign and magnitude restrictions, conditional forecasts, Bayesian forecast evaluation measures, Bayesian Panel VAR using different prior distributions (for example hierarchical priors). BEAR is specifically developed for transparently supplying a tool for state-of-the-art research and is planned to be further developed to always be at the frontier of economic research. BEAR Toolbox BEAR 5.1 Overview Download the BEAR Toolbox Empirical macro toolboxThe empirical macro toolbox is a new package that contains MATLAB functions and routines to estimate VARs, FAVARs, local projections and other models with classical or Bayesian methods. The toolbox allows a researcher to conduct inference under various prior assumptions on the parameters, to produce point and density forecasts, and to trace out the causal effect of shocks using a number of identification schemes. The toolbox is equipped to handle missing observations. It can also deal with panels of time series. We describe the methodology employed and implementation of the functions. We illustrate the main features with a number of practical examples. A hitchhiker guide to empirical macro models (Reference Document) by Ferroni F. and Canova F. Go to Toolbox Go to video tutorial (youtube)","categories":[{"name":"计量","slug":"计量","permalink":"http://xiahanlin1993.github.io/categories/%E8%AE%A1%E9%87%8F/"}],"tags":[{"name":"Matlab","slug":"Matlab","permalink":"http://xiahanlin1993.github.io/tags/Matlab/"},{"name":"工具","slug":"工具","permalink":"http://xiahanlin1993.github.io/tags/%E5%B7%A5%E5%85%B7/"}],"author":"夏汉林"},{"title":"RBC与Dynare","slug":"RBC与Dynare","date":"2023-02-15T09:05:51.000Z","updated":"2023-02-15T19:21:10.343Z","comments":true,"path":"2023/02/15/rbc-yu-dynare/","link":"","permalink":"http://xiahanlin1993.github.io/2023/02/15/rbc-yu-dynare/","excerpt":"","text":"RBC讲义：PPT","categories":[{"name":"理论","slug":"理论","permalink":"http://xiahanlin1993.github.io/categories/%E7%90%86%E8%AE%BA/"}],"tags":[{"name":"Dynare","slug":"Dynare","permalink":"http://xiahanlin1993.github.io/tags/Dynare/"},{"name":"RBC","slug":"RBC","permalink":"http://xiahanlin1993.github.io/tags/RBC/"}],"author":"夏汉林"},{"title":"DSGE学习和参考文献","slug":"DSGE学习和参考文献","date":"2023-02-15T03:29:04.000Z","updated":"2023-02-15T19:21:16.418Z","comments":true,"path":"2023/02/15/dsge-xue-xi-he-can-kao-wen-xian/","link":"","permalink":"http://xiahanlin1993.github.io/2023/02/15/dsge-xue-xi-he-can-kao-wen-xian/","excerpt":"","text":"财政乘数的计算 Jesper Lindé &amp; Mathias Trabandt（2018，JAE):Should we use linearized models to calculate fiscal multipliers? PDF code readme 理由：建模规范，代码清晰 摘要：We calculate the magnitude of the government consumption multiplier in linearized and nonlinear solutions of a New Keynesian model at the zero lower bound. Importantly, the model is amended with real rigidities to simultaneously account for the macroeconomic evidence of a low Phillips curve slope and the microeconomic evidence of frequent price changes. We show that the nonlinear solution is associated with a much smaller multiplier than the linearized solution in long-lived liquidity traps, and pin down the key features in the model which account for the difference. Our results caution against the common practice of using linearized models to calculate fiscal multipliers in long-lived liquidity traps. 摘要： We argue that positive co-movements between land prices and business investment are a driving force behind the broad impact of land-price dynamics on the macroeconomy. We develop an economic mechanism that captures the co-movements by incorporating two key features into a DSGE model: We introduce land as a collateral asset in firms’ credit constraints, and we identify a shock that drives most of the observed fluctuations in land prices. Our estimates imply that these two features combine to generate an empirically important mechanism that amplifies and propagates macroeconomic fluctuations through the joint dynamics of land prices and business investment. 经典的DSGE文献： CEE-2005-Nominal Rigidities and the Dynamic Effects of a Shock to Monetary Policy Gertler&amp;Kiyotaki2011Financial Intermediation and Credit Policy in Business Cycle Analysis Smets&amp;Wouters2003AN ESTIMATED DYNAMIC STOCHASTIC GENERAL EQUILIBRIUM MODEL OF THE EURO AREA","categories":[{"name":"理论","slug":"理论","permalink":"http://xiahanlin1993.github.io/categories/%E7%90%86%E8%AE%BA/"}],"tags":[{"name":"Matlab","slug":"Matlab","permalink":"http://xiahanlin1993.github.io/tags/Matlab/"},{"name":"DSGE","slug":"DSGE","permalink":"http://xiahanlin1993.github.io/tags/DSGE/"}],"author":"夏汉林"},{"title":"我关注的公众号","slug":"我关注的公众号","date":"2023-02-14T17:17:15.000Z","updated":"2023-02-14T17:19:33.697Z","comments":true,"path":"2023/02/15/wo-guan-zhu-de-gong-zhong-hao/","link":"","permalink":"http://xiahanlin1993.github.io/2023/02/15/wo-guan-zhu-de-gong-zhong-hao/","excerpt":"","text":"经济金融资讯 中国金融新闻网 顶尖大学学院公众号 北大国发院 北京大学光华管理学院 复旦大学经济学院 清华大学经济管理学院 清华五道口 上海高级金融学院 中国社会科学院经济研究所 人大重阳 学术期刊公众号 比较 管理世界 管理学季刊 经济学动态 经济研究 智库 中国金融四十人论坛 中国经济50人论坛 资本市场50人论坛 首席经济学家论坛 官方机构 财政部 证监会发布 中国人民银行 中国银保监会 统计微讯 文献和学术分享 AmyEconFin 东海岸的雨 大森投研 大金融思想 东周宏观 DSGE与宏观计量分析 EV视点 何不娓娓道来 宏观研学会 IRID区域与产业发展研究中心 家进不错 唧唧堂 经管定量笔记 金融学前言论文速递 机器学习与数字经济实验室（上财郭峰） 科研岛 李力南以离开 MacroHub 铭心而论 文献速读一号机 香樟经济学术圈 小田说事 学术成长学苑 学术无界 一刹春浓 刀熊说说 NSD博士之家 学术志 计量方法 DMETP 功夫计量经济学 计量经济圈 计量经济模型 计量经济学 计量经济学与Stata应用 经济学结构估计前言 经济知识综合 君泉计量 量化研究方法 连享会 PaperCodeTips 实证论文方法研究 Stata中文社区 数据和工具 Python 大邓和他的Python Excel Excel之家ExcelHome 综合 EasyShu 社会科学中的机器学习 数据化管理 Latex Latex工作室 Matlab matlab入门到入门 R R语言数据分析与实践 时政经济分析 成方街哨兵 大树乡长 地安门外一闲人 鹅少说 富贵门 法询金融 法询金融固收组 FICCRUC 付鹏的财经世界 高善文经济观察 冠男固收视野（华创） 郭磊宏观茶座 顾子明的政事堂免费 海清FICC频道（早评系列） 寒飞论债 宏观闻涛声（中信建投） 见闻早餐 蕉易猿生像（每日日报） 金融监管研究院 金融监管与风险观察（金融风险周报） 金融街老裘 金融老编辑 韭菜一家人 李迅雷金融与投资 猫哥的视界713 咩咩说 明细笔谈（中信宏观） 秦大明 秦小明 求实处 任博宏观论道 人生几个BP Rick笔记 三表龙门阵 三法司正道办 三法司正路办 沈建光博士宏观研究 势场 图解金融 王涵论宏观 王剑的角度（银行） 伍戈经济笔记 心路独舞（从中国看美国，从美国看中国） 言他君 圆方你怎么看啊 郁言债市 泽平宏观 债市邦 政事堂2019 政事堂编辑部 政事堂Plus2019 智堡Wisburg 一川Law 奇霖宏观 三折人生 张明宏观金融研究 暂不关注公众号汇总投资类公众号 半夏投资 川总写量化 商业模式解析 笔记侠 理性思辨 C计划 L先生说 饶议科学 思维有了模型 拾遗 warfalcon","categories":[{"name":"生活","slug":"生活","permalink":"http://xiahanlin1993.github.io/categories/%E7%94%9F%E6%B4%BB/"}],"tags":[{"name":"信息","slug":"信息","permalink":"http://xiahanlin1993.github.io/tags/%E4%BF%A1%E6%81%AF/"},{"name":"知识","slug":"知识","permalink":"http://xiahanlin1993.github.io/tags/%E7%9F%A5%E8%AF%86/"}],"author":"夏汉林"},{"title":"SVAR模型","slug":"SVAR模型","date":"2023-02-14T14:45:19.000Z","updated":"2023-02-14T15:23:54.069Z","comments":true,"path":"2023/02/14/svar-mo-xing/","link":"","permalink":"http://xiahanlin1993.github.io/2023/02/14/svar-mo-xing/","excerpt":"","text":"以下内容来自微信公众号《李力南以离开》 SVAR模型曾经是实证宏观经济学中最主要的方法之一，很可惜已经不再是目前最流行的方法了，因为局部投影方法(Local Projection)最近几年在宏观实证研究中越来越受到重视，基本可以替代VAR模型，但是SVAR模型由于可以施加结构约束，其地位仍然很重要。很遗憾的是，国内没有专门介绍SVAR模型的教科书，这使得很多人对于VAR模型存在误解。VAR模型最重要的难点在于“识别”(identification)。推荐两本关于SVAR模型非常好的教科书： ‘Structural Vector Autoregressive Analysis‘ by Lutz Kilian and Helmut Lütkepohl, Cambridge University Press, 2017. 作者Lutz Kilian是这个世界上SVAR模型做得最好的学者之一。北大的图书馆没有这本书，但是人大图书馆有，所以我有一段时间经常去人大就是为了查阅这本书，后来委托人大同学借到这本书，如获至宝，大概读了70%左右，收货非常大，此书系统地介绍了SVAR模型的各种识别方法，包括短期约束、长期约束、符号约束、高频识别(high frequency identification)、异方差识别、工具变量识别(external instrument)，narrative identification等等。所谓的识别，就是解决内生问题，而这才是VAR模型的核心所在，很可惜大多数国内的学者对于识别的探讨非常少，构建的VAR模型存在很大的内生问题, 而审稿人也未必熟悉这一领域，这就导致很多权威中文期刊上发表的基于SVAR模型的分析甚至是错误的。若能通读此书，基本可以接近国际前沿水平。目前，此书在实证宏观中的地位就好比实证微观中Angrist的 Mostly Harmless Econometrics。 ‘New introduction to multiple time series analysis‘. By Lütkepohl H. , Springer Science &amp; Business Media, 2005 此书的作者Lütkepohl H也是第一本书的第二作者，是德国著名的计量经济学家，专门从事时间序列分析，我还没有系统研读过这本书，但是曾经在时间序列分析备课的时候参阅过其中的一章，非常经典。这本书相对理论，适合拿来推导。这本书比Hamilton的《time series analysis》更适合用来学习SVAR模型。 关于SVAR模型，目前还有两个工具箱，可以直接用于实证分析： 第一个是欧洲央行开发的BEAR工具箱，下载链接： https://www.ecb.europa.eu/pub/research/working-papers/html/bear-toolbox.en.html 第二个是宏观计量大量Canova开发的Empirical Macro 工具箱，下载链接： https://sites.google.com/view/fabio-canova-homepage/home/empirical-macro-toolbox 这两个工具箱都是基于MATLAB，基本涵盖了当前所有文献中提及的识别方法，对于不想做理论的来说，完全足够了。","categories":[{"name":"计量方法","slug":"计量方法","permalink":"http://xiahanlin1993.github.io/categories/%E8%AE%A1%E9%87%8F%E6%96%B9%E6%B3%95/"}],"tags":[{"name":"SVAR","slug":"SVAR","permalink":"http://xiahanlin1993.github.io/tags/SVAR/"}],"author":"夏汉林"},{"title":"局部投影法","slug":"局部投影法","date":"2023-02-14T07:35:59.000Z","updated":"2024-06-05T09:56:51.775Z","comments":true,"path":"2023/02/14/ju-bu-tou-ying-fa/","link":"","permalink":"http://xiahanlin1993.github.io/2023/02/14/ju-bu-tou-ying-fa/","excerpt":"","text":"一、介绍局部投影法被认为是VAR的改进，尤其是在得到脉冲响应函数方面。而脉冲响应函数主要被用于宏观经济学中的冲击响应分析（比如，提升利率对GDP的影响），通过画图可以直观地明白政策的效果。 局部投影法的优势在于可以不用像VAR一样对数个方程同时进行估计，而是可以根据需要灵活地设定和估计我们感兴趣的变量的响应函数；同时，通过引入高次项和其他控制变量，可以使得模型的预测更符合真实的情况；而且，局部投影法对于经济变量背后的data generating process （DGP）要求更低，即使我们不能准确变量真实的DGP，通过局部投影法得到的结果也是（更）稳健的。 VAR模型与脉冲响应 局部投影法是近年来新兴起的脉冲响应函数估计方法，简便、灵活、稳健的特性使其备受青睐。局部投影法多用于分析宏观冲击（政策）对微观层面的影响，也可以分析时间序列数据。局部投影法的功能强大，用起来却十分方便，我们可以直接在软件中使用简单的ols或者iv回归命令进行局部投影法估计。需要注意的是，局部投影法中的关键解释变量（宏观冲击）一般需要是使用其他技术（如SVAR等）得到的外生冲击。 下面转引大森投研的PPT： 从一个故事出发:预测2022年毕业时失业率… 1、AR(1)模型：假设失业率仅与一个月前的失业率线性相关 2、AR(p)模型：放松假设到与前p个月的失业率线性相关 3、VAR(p)模型：失业率、油价等一组变量取值与其前p个月的取值相关 应用VAR模型的假设： 1、误差项 2、不同情形下变量需要满足的条件 将VAR(p)压缩到VAR(1) 脉冲响应：油价的突然上涨对未来t期失业率产生的影响 1、迭代方程 2、取一维形式 局部投影法（LP） 使用LP方法的原因： 1、使用简单 2、对模型误设更稳健 3、可用于非线性识别中（VAR模型为线性估计） 4、不用确定和估计出未知的真实模型也可以处理脉冲响应 LP的数学定义 VAR和LP的对比 1、预测误差 2、线性模型下脉冲响应的特征 3、LP方法的灵活性 特定情况下VAR与LP方法等价 下面展示一个局部投影法的实例（来自于Morlacco &amp; Zeke 2021 JME，Monetary Policy, Customer Capital, and Market Power ） LP方法的控制变量选择 讨论 1、VAR方法和LP方法本质相同。在时期较多的情况下，VAR与LP方法相近，并且LP方法拥有更好的性质；而在模型设定正确的情况下，VAR方法效率更高，脉冲响应结果也更平滑； 2、LP方法可用于宏观冲击、公司金融等问题中，且LP方法与多期DID模型的思想相近。 二、论文和代码Òscar Jordà主页 （一）代码STATA code simple time series example: lp_example.do LPIV example: lpiv_example.do; .dta files needed: lpiv_15Mar2022.dta and RR_monetary_shock_quarterly.dta panel data example: lp_example_panel.do code for inverse propensity score weighted - regression augmented LPs used in: The Time for Austerity: Estimating the Average Treatment Effect of Fiscal Policy The Economic Journal, 2016, 126(590): 219-255 code for stratified LPs used in: Sovereigns versus Banks: Credit, Crises, and Consequences Journal of the European Economic Association, 2016, 14(1): 45-79 R code: package lpirfs Code prepared by Philipp Adämmer. Here is a description of its capabilities （二）论文Silvia Miranda Agrippino’s MATLAB code for “The Transmission of Monetary Policy Shocks” (with G. Ricco). typical and Bayesian local projections available here IMPULSE RESPONSE FUNCTIONS: BVAR, LP, &amp; BLP—— ppt The folder contains replication files for Miranda-Agrippino &amp; Ricco (2016) “The Transmission of Monetary Policy Shocks”. The code estimates impulse response functions for a Bayesian Vector Autoregression with standard NIW priors, Local Projections, and Bayesian Local Projections. Identification can be one of either Cholesky or External Instruments (BSVAR-IV &amp; BLP-IV) 🔸download BLP replication files (1.1 MB) replication code for “Impulse responses by smooth local projections” by Barnichon and Brownlees code from the Review and Economic Statistics publication available here Bayesian local projections Amaze Lusompa has written a great paper on how to think about Bayesian local projections. Check his research here inference Mikkel Plagborg-Møller is doing great research on local projections. I particularly like his paper with José Luis Montiel Olea. The paper “Local Projection Inference is Simpler and More Robust Than You Think” is available here references main reference: Estimation and Inference of Impulse Responses by Local Projections American Economic Review 95(1), March 2005, 161-182 - Impulse Responses by Local Projections: Practical Issues_PPT how to use IV methods for identification The effects of quasi-random monetary experiments Journal of Monetary Economics, 112: 22-40 some related papers Luca Brugnolini: ABOUT LOCAL PROJECTION IMPULSE RESPONSE FUNCTION RELIABILITY 中文论文-local-projection 老龄化是否削弱了中国货币政策的“稳增长”效果？ 双支柱政策的时变效果及协调作用_王宇晴 基于局部投影的脉冲响应函数对我国货币政策非对称的再检验 Local Projections vs. VARs1 引子小组会再次听到了 LP， 之前也看到过，今天把之前找的资料汇总一下 。Bayesian VAR[1] LP 2 LP VS VAR在推文 Virtual Time Series Seminar 有一期关于LP和VAR的视频。 LP vs VAR Video Local Projections vs. VARs: Lessons From Thousands of DGPs[2] pdf Slides mikkelpm-publications[3] github: lp_var_simul[4] 这个学者很顶！ 参考资料[1]Bayesian VAR:https://www.cnblogs.com/RankFan/p/Bayesian_VAR.html [2]Local Projections vs. VARs:https://www.youtube.com/watch?v=pYLhKnQZWe4 [3]mikkelpm-publications:https://scholar.princeton.edu/mikkelpm/publications [4]github lp_var_simul:https://github.com/dake-li/lp_var_simul","categories":[{"name":"计量方法","slug":"计量方法","permalink":"http://xiahanlin1993.github.io/categories/%E8%AE%A1%E9%87%8F%E6%96%B9%E6%B3%95/"}],"tags":[{"name":"Local projection","slug":"Local-projection","permalink":"http://xiahanlin1993.github.io/tags/Local-projection/"},{"name":"VAR","slug":"VAR","permalink":"http://xiahanlin1993.github.io/tags/VAR/"}],"author":"夏汉林"},{"title":"宏观金融","slug":"宏观金融","date":"2021-08-24T01:58:16.000Z","updated":"2023-02-13T17:34:47.057Z","comments":true,"path":"2021/08/24/hong-guan-jin-rong/","link":"","permalink":"http://xiahanlin1993.github.io/2021/08/24/hong-guan-jin-rong/","excerpt":"摘要","text":"摘要 正文firm investment and growth corporate, household and sovereign debt asset pricing in general equilibrium equilibrium macro models with a financial sector. 1 1 1 2 6 1 文章标题，强烈建议填写此选项 3 1 1 4 1 1 y_2=3 ss 配置选项 默认值 描述 title Markdown 的文件标题 文章标题，强烈建议填写此选项 date 文件创建时的日期时间 发布时间，强烈建议填写此选项，且最好保证全局唯一 author 根 _config.yml 中的 author 文章作者 img featureImages 中的某个值 文章特征图，推荐使用图床(腾讯云、七牛云、又拍云等)来做图片的路径.如: http://xxx.com/xxx.jpg top true 推荐文章（文章是否置顶），如果 top 值为 true，则会作为首页推荐文章 cover false v1.0.2版本新增，表示该文章是否需要加入到首页轮播封面中 coverImg 无 v1.0.2版本新增，表示该文章在首页轮播封面需要显示的图片路径，如果没有，则默认使用文章的特色图片 password 无 文章阅读密码，如果要对文章设置阅读验证密码的话，就可以设置 password 的值，该值必须是用 SHA256 加密后的密码，防止被他人识破。前提是在主题的 config.yml 中激活了 verifyPassword 选项 toc true 是否开启 TOC，可以针对某篇文章单独关闭 TOC 的功能。前提是在主题的 config.yml 中激活了 toc 选项 mathjax false 是否开启数学公式支持 ，本文章是否开启 mathjax，且需要在主题的 _config.yml 文件中也需要开启才行 summary 无 文章摘要，自定义的文章摘要内容，如果这个属性有值，文章卡片摘要就显示这段文字，否则程序会自动截取文章的部分内容作为摘要 categories 无 文章分类，本主题的分类表示宏观上大的分类，只建议一篇文章一个分类 tags 无 文章标签，一篇文章可以多个标签 keywords 文章标题 文章关键字，SEO 时需要 reprintPolicy cc_by 文章转载规则， 可以是 cc_by, cc_by_nd, cc_by_sa, cc_by_nc, cc_by_nc_nd, cc_by_nc_sa, cc0, noreprint 或 pay 中的一个 pdf","categories":[],"tags":[]},{"title":"实证研究方法","slug":"实证研究方法","date":"2021-08-23T06:30:47.000Z","updated":"2022-10-09T14:27:05.505Z","comments":true,"path":"2021/08/23/shi-zheng-yan-jiu-fang-fa/","link":"","permalink":"http://xiahanlin1993.github.io/2021/08/23/shi-zheng-yan-jiu-fang-fa/","excerpt":"摘要","text":"摘要 正文Machine Learning and Causal Inference Susan Athey, Stanford University and NBER About this author at RePEc Summer Institute 2015 Methods Lecture: Unsupervised Learning: Applications to Networks and Text Mining 夏季研究所2015年方法讲座: 非监督式学习: 应用于网络和文本挖掘 Summer Institute 2015 Methods Lectures: Machine Learning for Economists 暑期研究所2015年方法讲座: 经济学家的机器学习 Summer Institute 2015 Methods Lecture: Introduction to Supervised ML Concepts and Algorithms 2015年夏季学院方法讲座: 有监督的机器学习概念和算法简介 Summer Institute 2015 Methods Lecture: Prediction, Classification, and Applications Network Models 暑期学院2014方法讲座: 网络模型的理论与应用https://www.nber.org/people/matthew_jackson) Summer Institute 2014 Methods Lecture: Networks: Games over Networks and Peer Effects 夏季研究所2014年方法讲座: 网络: 网络上的游戏和对等效应 Summer Institute 2014 Methods Lecture: Networks: Propagation of Shocks over Economic Networks 夏季研究所2014年方法讲座: 网络: 冲击在经济网络上的传播 Summer Institute 2014 Methods Lecture: Social and Economic Networks: Background 2014年夏季研究所方法讲座: 社会和经济网络: 背景 Summer Institute 2014 Methods Lecture: Diffusion, Identification, Network Formation 夏季学院2014年方法讲座: 扩散，识别，网络形成 Summer Institute 2014 Methods Lectures: Theory and Application of Network Models 暑期学院2014方法讲座: 网络模型的理论与应用 Summer Institute 2013 Methods Lecture: Applications: Using Text as Data 暑期学院2013年方法讲座: 应用: 使用文本作为数据 因果推断Causal Inference，中英文字幕—https://www.bradyneal.com/causal-inference-course Introduction to Causal Inference Fall 2020 You’ve found the online causal inference course page. Although, the course text is written from a machine learning perspective, this course is meant to be for anyone with the necessary prerequisites who is interested in learning the basics of causality. I do my best to integrate insights from the many different fields that utilize causal inference such as epidemiology, economics, political science, machine learning, etc. You can see the tentative course schedule below. You can join the course Slack workspace where you can easily start discussions with other people who are interested in causal inference. For information about office hours, see the office hours section below. If you’re interested in leading a reading group discussion, check out the suggested reading group papers to see if one piques your interest. When emailing me about this course, please include “[Causal Course]” at the beginning of your email subject to help make sure I see your email. If you want to receive course updates, sign up for the course mailing list. The main textbook we’ll use for this course is Introduction to Causal Inference (ICI), which is a book draft that I’ll continually update throughout this course. Course Schedule (tentative)Note about slides: they currently don’t work well with Adobe Acrobat, though they seem to work with other PDF viewers. Week Topics Lecture Readings Reading Group Paper August 31 Motivation Course Preview Course Information Video Slides Info Chapter 1 of ICI None September 7 Potential Outcomes A Complete Example with Estimation Video Slides Chapter 2 of ICI Does obesity shorten life? The importance of well-defined interventions to answer causal questions (Hernán &amp; Taubman, 2008) September 14 Graphical Models Video Slides Chapter 3 of ICI Does Obesity Shorten Life? Or is it the Soda? On Non-manipulable Causes (Pearl, 2018) September 21 Backdoor Adjustment Structural Causal Models Video Slides Chapter 4 of ICI Single World Intervention Graphs: A Primer (Richardson &amp; Robins, 2013) September 28 Randomized Experiments Frontdoor Adjustment do-calculus Graph-Based Identification Video Slides Chapters 5-6 of ICI On Pearl’s Hierarchy and the Foundations of Causal Inference (Bareinboim et al., 2020) October 5 Estimation Susan Athey Guest Talk - Estimating Heterogeneous Treatment Effects (Oct 8th at 3 - 4 pm EDT) Video Slides Guest Talk Chapter 7 of ICI Adapting Neural Networks for the Estimation of Treatment Effects (Shi, Blei, Veitch, 2019) October 12 Unobserved Confounding, Bounds, and Sensitivity Analysis Video Slides Chapter 8 of ICI Sense and Sensitivity Analysis: Simple Post-Hoc Analysis of Bias Due to Unobserved Confounding (Veitch &amp; Zaveri, 2020) October 19 Instrumental Variables Video Slides Chapter 9 of ICI Deep IV: A Flexible Approach for Counterfactual Prediction (Hartford et al., 2017) October 26 Difference-in-Differences Alberto Abadie Guest Talk - Synthetic Control (Oct 29th at 10 - 11 am EDT) Video Slides Guest Talk Chapter 10 of ICI Regression Discontinuity Designs in Economics (Lee &amp; Lemieux, 2010) November 2 —- Break Week - No Lecture —- None Past Readings None November 9 Causal Discovery from Observational Data Jonas Peters Guest Talk (November 13 at 10 am EST) Video Slides Chapter 11 of ICI Inferring causation from time series in Earth system sciences (Runge et al., 2019) November 16 Causal Discovery from Interventions Video Slides Chapter 12 of ICI (Coming soon) Permutation-based Causal Inference Algorithms with Interventions (Wang et al., 2017) November 23 Transfer Learning Transportability Video Slides Chapter 13 of ICI (Coming soon) A causal framework for distribution generalization (Christiansen et al., 2020) November 30 Yoshua Bengio Guest Talk - Causal Representation Learning (Dec 1st at 1 - 2:30 pm EST) Guest Talk Slides None Invariant Risk Minimization (Arjovsky et al., 2019) December 7 Counterfactuals Mediation Video Slides Chapter 14 of ICI (Coming soon) Identifiability of Path-Specific Effects (Avin, Shpitser, &amp; Pearl, 2005) Potential Reading Group Papers by WeekWe will have a small weekly reading group that runs in parallel to the course. Before any given week’s reading group meeting, 1-3 people will have read the week’s paper in detail and already thought about discussion topics. These 1-3 people will then lead a discussion of a small number of people who have all made themselves familiar with the paper. The discussion group will be kept small (at most 15) in order to facilitate quality discussion. You can ensure that you have a place in the discussion group every week you’d like by signing up to be a discussion leader for at least one week. Below, I give a list of potential reading group papers, organized by week/topic, just like the course schedule is. You can email me at bradyneal11@gmail.com to let me know that you’d like to lead a certain week’s discussion, which paper(s) you’re considering, or to discuss other papers you’d like to discuss that are not on the list. Motivation and Preview - No reading group Potential Outcomes Does obesity shorten life? The importance of well-defined interventions to answer causal questions (Hernán &amp; Taubman, 2008) Does Obesity Shorten Life? Or is it the Soda? On Non-manipulable Causes (Pearl, 2018) Graphical Models and SCMs On the Interpretation of do(x) (Pearl, 2019) Quantifying causal influences (Janzing et al., 2012) Trygve Haavelmo and the Emergence of Causal Calculus (Pearl, 2014) Randomized Experiments, Frontdoor Adjustment, and do -calculus Single World Intervention Graphs: A Primer (Richardson &amp; Robins, 2013) The Paper of How: Estimating Treatment Effects Using the Front-Door Criterion (Bellemare &amp; Bloem, 2019) On Pearl’s Hierarchy and the Foundations of Causal Inference (Bareinboim et al., 2020) Estimation and Conditional Average Treatment Effects Estimating individual treatment effect: generalization bounds and algorithms (Shalit, Johansson, &amp; Sontag, 2017) Adapting Neural Networks for the Estimation of Treatment Effects (Shi, Blei, Veitch, 2019) Generalized Random Forests (Athey, Tibshirani, Wager, 2019) Meta-learners for Estimating Heterogeneous Treatment Effects using Machine Learning (Künzel et al., 2017) (caution: not about meta-learning in the ML sense) Sensitivity Analysis Making sense of sensitivity: extending omitted variable bias (Cinelli &amp; Hazlett, 2019) Sense and Sensitivity Analysis: Simple Post-Hoc Analysis of Bias Due to Unobserved Confounding (Veitch &amp; Zaveri, 2020) An Introduction to Sensitivity Analysis for Unobserved Confounding in Non-Experimental Prevention Research (Liu, Kuramoto, &amp; Stuart, 2013) Sensitivity Analysis of Linear Structural Causal Models (Cinelli et al., 2019) Instrumental Variables, Regression Discontinuity, Difference-in-Differences, and Synthetic Control Improving Causal Inference: Strengths and Limitations of Natural Experiments (Dunning, 2007) Alternative Causal Inference Methods in Population Health Research: Evaluating Tradeoffs and Triangulating Evidence (Mattay et al., 2019) Deep IV: A Flexible Approach for Counterfactual Prediction (Hartford et al., 2017) Regression Discontinuity Designs in Economics (Lee &amp; Lemieux, 2010) Synthetic Controls (there are several different Abadie papers; message me, if you’re interested in this topic) BREAK Causal Discovery without Experiments Inferring causation from time series in Earth system sciences (Runge et al., 2019) Distinguishing Cause from Effect Using Observational Data: Methods and Benchmarks (Mooij et al., 2016) Do-calculus when the True Graph Is Unknown (Hyttinen, Eberhardt, Jarvisalo, 2015) Review of Causal Discovery Methods Based on Graphical Models (Glymour, Zhang, &amp; Spirtes, 2019) Causal inference by using invariant prediction: identification and confidence intervals (Peters, Bühlmann &amp; Meinshausen, 2016) Nonlinear causal discovery with additive noise models (Hoyer et al., 2008) Causal Discovery from Heterogeneous/Nonstationary Data with Independent Changes (Huang et al., 2020) Causal Discovery with Experiments Experiment Selection for Causal Discovery (Hyttinen, Eberhardt, Hoyer, 2013) Characterization and Greedy Learning of Interventional Markov Equivalence Classes of Directed Acyclic Graphs (Hauser &amp; Bühlmann, 2012) Characterizing and Learning Equivalence Classes of Causal DAGs under Interventions (Yang, Katcoff, &amp; Uhler, 2018) Joint Causal Inference from Multiple Contexts (Mooij, Magliacane, &amp; Claassen, 2020) Transportability and Transfer Learning External Validity: From Do-Calculus to Transportability Across Populations (Pearl &amp; Bareinboim, 2014) A causal framework for distribution generalization (Christiansen et al., 2020) Causal inference and the data-fusion problem (Bareinboim &amp; Pearl, 2016) On Causal and Anticausal Learning (Schölkopf et al., 2012) Domain Adaptation under Target and Conditional Shift (Zhang et al., 2013) Multi-Source Domain Adaptation: A Causal View (Zhang, Gong, &amp; Schölkopf., 2015) Invariant Models for Causal Transfer Learning (Rojas-Carulla et al., 2016) Domain Adaptation As a Problem of Inference on Graphical Models (Zhang et al., 2020) Domain Adaptation by Using Causal Inference to Predict Invariant Conditional Distributions (Magliacane et al., 2018) Counterfactuals, Mediation, and Path-Specific Effects Identification, Inference and Sensitivity Analysis for Causal Mediation Effects (Imai, Keele, &amp; Yamamoto, 2010) Identifiability of Path-Specific Effects (Avin, Shpitser, &amp; Pearl, 2005) Interpretation and Identification of Causal Mediation (Pearl, 2014) TBD - Overflow Week Causal Representation Learning Visual Causal Feature Learning (Chalupka, Perona, &amp; Eberhardt, 2015) Discovering causal signals in images (Lopez-Paz et al., 2017) Invariant Risk Minimization (Arjovsky et al., 2019) Summer Institute 2021 Methods Lectures: Causal Inference Using Synthetic Controls and Regression Discontinuity Designs Causal inference James M. Robins 因果推断学习分享 Causal Inference BookJamie Robins and I have written a book that provides a cohesive presentation of concepts of, and methods for, causal inference. Much of this material is currently scattered across journals in several disciplines or confined to technical articles. We expect that the book will be of interest to anyone interested in causal inference, e.g., epidemiologists, statisticians, psychologists, economists, sociologists, political scientists, computer scientists… The book is divided in 3 parts of increasing difficulty: causal inference without models, causal inference with models, and causal inference from complex longitudinal data. To cite the book, please use “Hernán MA, Robins JM (2020). Causal Inference: What If. Boca Raton: Chapman &amp; Hall/CRC.” This book is only available online through this page. A print version (for purchase) is expected to become available some time in the future. The exact time, when known, will be announced here. The components of the book can be accessed by clicking on the links below: The Causal Inference book (1st edition, 2020) NHEFS data In SAS, Stata, MS Excel, and CSV formats Codebook Computer code SAS by Roger Logan Stata by Eleanor Murray and Roger Logan R by Joy Shi and Sean McGrath. Rendered version by Tom Palmer. Python by James Fiedler Parametric g-formula software in R and SAS Warning: At this stage, we may still revise and correct errors without documenting the changes. Please make sure you use the most updated version of the book posted here. Summer Institute 2011 Methods Lecture: Applications: Indeterminacy and Sunspots 夏季研究所2011年方法讲座: 应用: 不确定性和太阳黑子 Summer Institute 2011 Methods Lecture: Dynare Exercise 夏季学院2011年方法讲座: 动态运动 Summer Institute 2011 Methods Lecture: Projection Methods Summer Institute 2011 Methods Lecture: Models with Heterogeneous Agents Summer Institute 2011 Methods Lectures: Computational Tools &amp; Macroeconomic Applications 2011年夏季学院方法讲座: 计算工具和宏观经济应用 Summer Institute 2011 Methods Lecture: Introduction: Perturbation and projection methods for solving DSGE models 夏季研究所2011年方法讲座: 介绍: 解决 DSGE 模型的摄动和投影方法 Summer Institute 2011 Methods Lecture: Financial Frictions Under Asymmetric Information and Costly State Verification 夏季学院2011年方法讲座: 信息不对称和昂贵的国家核查下的金融摩擦 Summer Institute 2011 Methods Lecture: Why Non Linear/Non-Gausian DSGE Models? Recursive preferences, stochastic volatility, large shocks 夏季研究所2011年方法讲座: 为什么非线性/非高斯 DSGE 模型? 递归偏好，volatility model，大冲击 Summer Institute 2011 Methods Lecture: Perturbation Methods 夏季研究所2011年方法讲座: 摄动法 Summer Institute 2008 Methods Lecture: The Kalman filter, Nonlinear filtering, and Markov Chain Monte Carlo 2008年夏季研究所方法讲座: 卡尔曼滤波，非线性滤波和马尔科夫蒙特卡洛 Summer Institute 2008 Methods Lecture: Specification and estimation of models with stochastic time variation 夏季研究所2008年方法讲座: 随机时间变化模型的规格和估计 Summer Institute 2008 Methods Lecture: Recent Developments in Structural VAR Modeling 夏季研究所2008年方法讲座: 结构 VAR 模型的最新进展 Summer Institute 2008 Methods Lecture: Econometrics of DSGE Models 2008年夏季研究所方法讲座: DSGE 模型的计量经济学 Summer Institute 2008 Methods Lectures: What’s New in Econometrics: Time Series 暑期研究所2008年方法讲座: 计量经济学的新进展: 时间序列 Summer Institute 2010 Methods Lecture: GMM and Consumption-Based Asset Pricing Models 夏季研究所2010年方法讲座: 广义矩和基于消费的资产定价模型 Summer Institute 2010 Methods Lecture: Linear Factor Models and Event Studies 暑期学院2010年方法讲座: 线性因素模型和事件研究 Summer Institute 2007 Methods Lecture: Linear Panel Data Models 夏季学院2007年方法讲座: 线性面板数据模型 Summer Institute 2007 Methods Lecture: Regression Discontinuity Designs 夏季研究所2007年方法讲座: 回归间断设计 Summer Institute 2007 Methods Lecture: Estimation of Average Treatment Effects Under Unconfoundedness 夏季研究所2007年方法讲座: 平均治疗效果估计在不混淆 Summer Institute 2007 Methods Lecture: Instrumental Variables with Treatment Effect Heterogeneity: Local Average Treatment Effects 暑期研究所2007年方法讲座: 治疗效果异质性的工具变量: 局部平均治疗效果 Summer Institute 2007 Methods Lecture: Control Function and Related Methods 暑期学院2007方法讲座: 控制作用及相关方法 Summer Institute 2007 Methods Lecture: Bayesian Inference 2007年夏季学院方法讲座: 贝叶斯推断 Summer Institute 2007 Methods Lecture: Cluster and Stratified Sampling 2007年夏季研究所方法讲座: 集群和分层抽样 Summer Institute 2007 Methods Lecture: Partial Identification 暑期学院2007方法讲座: 部分鉴定 Summer Institute 2007 Methods Lecture: Difference-in-Differences Estimation 夏季学院2007年方法讲座: 差异中的差异估计 Summer Institute 2007 Methods Lecture: Discrete Choice Models 夏季学院2007年方法讲座: 离散选择模型 Summer Institute 2007 Methods Lecture: Missing Data 2007年夏季研究所方法讲座: 缺失数据 Summer Institute 2007 Methods Lecture: Weak Instruments and Many Instruments 暑期学院2007方法讲座: 弱仪器和多种仪器 Summer Institute 2007 Methods Lecture: Quantile Methods 夏季研究所2007方法讲座: 分位数方法 https://space.bilibili.com/522173499?spm_id_from=333.788.b_765f7570696e666f.1 https://awstringer1.github.io/sta238-book/","categories":[{"name":"研究方法","slug":"研究方法","permalink":"http://xiahanlin1993.github.io/categories/%E7%A0%94%E7%A9%B6%E6%96%B9%E6%B3%95/"}],"tags":[{"name":"DID PSM RDD ML CI","slug":"DID-PSM-RDD-ML-CI","permalink":"http://xiahanlin1993.github.io/tags/DID-PSM-RDD-ML-CI/"}]},{"title":"如何使用hexo+gitte+typora建立个人博客网站？","slug":"如何使用hexo+gitte+typora建立个人博客网站？","date":"2021-08-19T17:30:32.000Z","updated":"2024-06-05T10:36:24.207Z","comments":true,"path":"2021/08/20/ru-he-shi-yong-hexo-gitte-typora-jian-li-ge-ren-bo-ke-wang-zhan/","link":"","permalink":"http://xiahanlin1993.github.io/2021/08/20/ru-he-shi-yong-hexo-gitte-typora-jian-li-ge-ren-bo-ke-wang-zhan/","excerpt":"","text":"一、准备工作1.安装git在各大电脑管家安装（我是用的是联想自带的电脑管家），速度比较快一点，用git官方安装速度太慢，不建议。 2.安装node.jsnode.js其自带npm，用来下载hexo插件，建议下载国内cnpm，速度较快 https://nodejs.org/zh-cn/ #node.js中文网站 npm install -g cnpm --registry=https://registry.npm.taobao.org cnpm install hexo-symbols-count-time #利用cnpm安装hexo插件 二、安装hexo（官网）启动Git Bash Here，然后输入命令： npm install hexo-cli -g 手动在d盘下建立blog文件夹，d:\\blog或者使用命令： mkdir blog 首先进行初始化在本地生成Hexo相关目录： hexo init 然后就可以使用Hexo三连了，即我们最常用的三个主要命令（依旧在上述Git Bash命令端口中）： hexo clean # 清空已有hexo网站文件 hexo generate(or g) # 依据网页文本与新的CSS样式生成新网站文件 hexo server(or s) # 启动本地服务器，可以在localhost:4000查看网站修改效果 依次运行上述三个命令，就可以在浏览器打开localhost:4000端口，查看对应网站界面效果，一般默认的是一个landscape主题，后期当提交新文章或者新的样式修改时，往往都是先从本地查看结果无误后再部署到Gitee Page。至此最简单的个人博客建立工作就已经完成了。接下来是如何部署到网上，让别人也能看到你的个人博客网站。 三、 把博客部署到码云上 首先说明一下，为什么选择码云，最近 GitHub 经常性蹦，访问也比较慢，所以我就选择了码云实现一下，当然你有服务器就最好不过了。 码云（gitee）：https://gitee.com/ 1. 注册码云，创建仓库我们需要在 gitee 创建自己的账户（如果没有），然后再创建一个自己仓库 输入仓库名称，其它默认即可，这里因为我已经创建了。 这里强烈建议使用与归属名相同的仓库名和路径名，最后会产生个人博客的网站时，没有二级目录，如https://www.xiahanlin.gitte.io 2. 生成/添加 SSH 公钥码云 Gitee 、GitHub 提供了基于 SSH 协议的 Git 服务，在使用 SSH 协议访问仓库仓库之前，需要先配置好账户/仓库的 SSH 公钥。 2.1 配置 ssh 账户和邮箱 邮箱不必与 Gitee 账号相同，个人邮箱即可。 git config --global user.email *********@163.com # 设置邮箱 git config --global user.name '****' # 设置用户名 查看账户和邮箱 git config --global user.name git config --global user.email 2.2 本地生成ssh公钥 邮箱为刚配置好的账户邮箱 ssh-keygen -t rsa -C \"xxxxx@xxxxx.com\" 按照提示完成三次回车，即可生成 ssh key 2.3查看 ssh 公钥 vim ~/.ssh/id_rsa.pub # 退出 :qa! 复制公钥去 Gitee 粘贴，添加 2.4 测试是否连接成功 码云 Gitee ssh -T git@gitee.com 如下图所示，则表示连接成功 2.5 配置连接 Gitee进入到我们新创建的仓库，复制项目地址 复制 URL ，到 hexo 的配置文件 _config.yml，相应位置修改成如下： 四、部署博客1.安装自动部署发布工具cnmp install hexo-deployer-git --save 新建 deployer.sh 文件，输入代码： hexo clean hexo g hexo d 一键部署博客 sh deployer.sh 2.Gitee Pages 设置在项目的服务中选择 Pages 选项 默认配置，点击启动即可 下图则成功开启，记住博客地址，之后可以点更新进行操作 博客发布成功之后，可以访问博客地址：xxxxxx，就可通过他提供的博客地址进行访问，预览在线博客啦！！ 如果博客的样式不对，则需要在_config.yml中配置下博客地址和路径： url: “码云提供给您的博客地址” #如https://www.xiahanlin.gitte.io root: / 五、主题配置下载自己喜欢的主题，可以去hexo官网主题探索。这里我是用的是next主题，可以去next github仓库中下载压缩包然后放到博客项目根目录下的 themes 中。 然后配置站点 _config.yml theme: “您的主题文件夹完整名称” # 这里需要注意:后面要有一个空格，名称要和theme下的主题目录名称相同。 修改完成，本地运行 hexo s 测试成功即可上传部署到 Gitee 然后点击更新即可。 六、主题优化1.Next主题风格Next提供了四种主题风格scheme，可以在主题配置文件blog/themes/next/_config.yml文件中进行选择，分别是Muse、Mist、Pisces、Gemini： 我目前使用的是第一个布局。 Next主题一般配置： override: false # Console reminder if new version released. reminder: false # Allow to cache content generation. Introduced in NexT v6.0.0. cache: enable: true #表示添加缓存功能，这样浏览器后续打开我们的博客网站会更快 # Remove unnecessary files after hexo generate. minify: false # Define custom file paths. # Create your custom files in site directory `source/_data` and uncomment needed files below. custom_file_path: #head: source/_data/head.swig #header: source/_data/header.swig #sidebar: source/_data/sidebar.swig #postMeta: source/_data/post-meta.swig #postBodyEnd: source/_data/post-body-end.swig #footer: source/_data/footer.swig #bodyEnd: source/_data/body-end.swig #variable: source/_data/variables.styl #mixin: source/_data/mixins.styl #style: source/_data/styles.styl # --------------------------------------------------------------- # Site Information Settings # See: https://theme-next.org/docs/getting-started/ # --------------------------------------------------------------- favicon: small: /images/16×16.png medium: /images/32×32.png apple_touch_icon: /images/128×128.png safari_pinned_tab: /images/icon-close.svg #android_manifest: /images/manifest.json #ms_browserconfig: /images/browserconfig.xml # Show multilingual switcher in footer. language_switcher: false footer: # Specify the date when the site was setup. If not defined, current year will be used. since: 2021 #建站时间 2.添加小宠物 npm install --save live2d-widget-model-epsilon2_1 npm install --save live2d-widget-model-haruto npm install --save live2d-widget-model-hibiki npm install --save live2d-widget-model-hijiki npm install --save live2d-widget-model-izumi npm install --save live2d-widget-model-koharu npm install --save live2d-widget-model-tororo 七、问题解决1.hexo框架下，如何解决图片插入？试了好多方法，发现下面这种方法是可行，结合typora。 使用最简单的方式在 source 目录下创建images目录，然后图片都保存在这里。 关键是要在typora上做以下设置： 在md文件头部的配置项中，添加 typora-root-url: ../ --- title: hexo+typora 插入图片 date: 2019-06-08 10:37:22 tags: typora-root-url: ../ ---Copy 这样引用的图片都以上一级目录即 sourse作为根目录了，并在偏好设置中，设置插入图片复制到指定到路径，此时插入的图片，都会自动保存在 sourse/images目录下，并且本地的显示和服务器上的根目录完全一致，使用体验还是很方便的。 总结以上，就是在每篇md文件中，开头设置typora-root-url: ../，然后设置偏好设置，就可以既实现typora本地实时预览和网上配图的完美结合。 一次配置，永久实现，在scaffolds文件夹下的post.md，是每次hexo n 的默认模板，可以通过更改它，实现每次新建md文件，就已经配置好，然后在typora设置一下，就可以永久不用担心图片在博客中的实现问题。 8.测试代码和公式支持 **** 合并数据 **** use C:\\Users\\msi\\Desktop\\数据处理\\asset.dta,replace merge m:m BankCode Date using C:\\Users\\msi\\Desktop\\数据处理\\operation.dta,nogen merge m:m BankCode Date using C:\\Users\\msi\\Desktop\\数据处理\\profit.dta,nogen merge m:m BankCode Date using C:\\Users\\msi\\Desktop\\数据处理\\creditlossprepare.dta,nogen **** 转换文字变量为数字变量和日期变量 **** destring BankCode,gen(Code) gen date = date(Date,\"YMD\") format date %td tsset Code date drop BankCode drop Date label var Code 银行代码 label var BankName 银行名称 label var date 统计日期 label var FCIC 手续费及佣金收入 label var NIAPC 归属于母公司所有者的净利润 label var BEPS 基本每股收益 label var REV 营业收入 label var TDepo 存款总额 label var TLoan 贷款总额 label var CptAdqRt \"资本充足率(%)\" label var NpfLnRt5 不良贷款比例 label var NpfPpCvRt5 不良贷款拨备覆盖率 label var CsIncRt \"成本收入比(%)\" label var TA 资产总计 label var EAPC 归属于母公司所有者权益合计 label var DdLnRsvfd \"贷款呆帐准备金\" **** 导出为excel格式 **** export excel using \"C:\\Users\\msi\\Desktop\\数据处理\\年度数据.xls\", sheetreplace firstrow(varlabels) \\frac{x^2}{y^2}*z^2=m^2+n^2$y^2=2$ $y^2=2$ y^2=3--- title: 基于Hexo的hexo-theme-matery主题搭建博客并优化 date: 2019-10-03 14:25:00 author: 悟尘 img: /source/images/xxx.jpg top: true cover: true coverImg: /images/1.jpg password: 8d969eef6ecad3c29a3a629280e686cf0c3f5d5a86aff3ca12020c923adc6c92 toc: false mathjax: false summary: 这是你自定义的文章摘要内容，如果这个属性有值，文章卡片摘要就显示这段文字，否则程序会自动截取文章的部分内容作为摘要 categories: 工具 tags: - blog - hexo --- Front-matter 选项中的所有内容均为非必填的。但我仍然建议至少填写 title 和 date 的值。 配置选项 默认值 描述 title Markdown 的文件标题 文章标题，强烈建议填写此选项 date 文件创建时的日期时间 发布时间，强烈建议填写此选项，且最好保证全局唯一 author 根 _config.yml 中的 author 文章作者 img featureImages 中的某个值 文章特征图，推荐使用图床(腾讯云、七牛云、又拍云等)来做图片的路径.如: http://xxx.com/xxx.jpg top true 推荐文章（文章是否置顶），如果 top 值为 true，则会作为首页推荐文章 cover false v1.0.2版本新增，表示该文章是否需要加入到首页轮播封面中 coverImg 无 v1.0.2版本新增，表示该文章在首页轮播封面需要显示的图片路径，如果没有，则默认使用文章的特色图片 password 无 文章阅读密码，如果要对文章设置阅读验证密码的话，就可以设置 password 的值，该值必须是用 SHA256 加密后的密码，防止被他人识破。前提是在主题的 config.yml 中激活了 verifyPassword 选项 toc true 是否开启 TOC，可以针对某篇文章单独关闭 TOC 的功能。前提是在主题的 config.yml 中激活了 toc 选项 mathjax false 是否开启数学公式支持 ，本文章是否开启 mathjax，且需要在主题的 _config.yml 文件中也需要开启才行 summary 无 文章摘要，自定义的文章摘要内容，如果这个属性有值，文章卡片摘要就显示这段文字，否则程序会自动截取文章的部分内容作为摘要 categories 无 文章分类，本主题的分类表示宏观上大的分类，只建议一篇文章一个分类 tags 无 文章标签，一篇文章可以多个标签 keywords 文章标题 文章关键字，SEO 时需要 reprintPolicy cc_by 文章转载规则， 可以是 cc_by, cc_by_nd, cc_by_sa, cc_by_nc, cc_by_nc_nd, cc_by_nc_sa, cc0, noreprint 或 pay 中的一个 八、插入PDF如果我们想在word上编辑，然后放到博客上，可以先利用word另存为pdf，然后利用pdf插件实现。这一点在我所使用的Next6主题中采用了，具体如下： step1 安装pdf插件 进入我们博客的主题目录，如blog/themes/next6，执行： git clone https://github.com/theme-next/theme-next-pdf source/lib/pdf 或者在blog/目录下执行： npm install hexo-pdf --save step2 hexo 配置（如果采用第一种安装方式） pdf: enable: true per_page: true height: 500px pdfobject: cdn: //cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js step3 存放pdf 存放pdf的方式跟图片一模一样，具体我就不说了 step4 插入pdf 官方支持的方式是 [](pdf链接) 而采用方法二的使用方式是： &#123;% pdf pdf链接 %&#125; 官方的那个我总是编译出问题，所以下面给出方法二的效果： 九、配置个性化域名配置个性化域名一顿操作下来，打开我们的博客还是：www.xxx.github.io，是不是很没有牌面？我们可以考虑购买一个专属域名，以后打开博客就是这样：www.xxx.com 。 阿里云和腾讯云都可以，我的是腾讯云，购买域名后首先需要添加解析： 方法一：点击添加记录，需要添加两个记录，两个记录类型都是 CNAME ，第一个主机记录为 @ ，第二个主机记录为 www，记录值都是填你自己的博客地址（比如我的是：muyiio.github.io），保存之后域名解析就完成了！ 方法二：两个记录类型为 A ，第一个主机记录为 @ ，第二个主机记录为 www，记录值都为博客的 IP 地址，IP 地址可以 cmd 中输入 ping 你的博客地址 获得（比如我的：ping muyiio.github.io），保存之后域名解析就完成了！ 参考资料： 《域名解析中A记录、CNAME、MX记录、NS记录的区别和联系》 不管在哪个平台购买域名，操作都大同小异，这里说明两点： 如果你填写的是没有www的，比如 muyio.com，那么无论是访问 https://www.muyiio.com 还是 https://muyiio.com ，都会自动跳转到 https://muyiio.com。 如果你填写的是带www的，比如 www.muyiio.com ，那么无论是访问 https://www.muyiio.com 还是 https://muyiio.com ，都会自动跳转到 http://www.imuyiio.com。 然后打开你的github博客项目，点击settings，拉到下面Custom domain处，填上你自己的域名，保存就可以了。 现在我们的项目根目录应该会出现一个名为CNAME的文件了。如果没有的话，打开你本地博客/source目录，我的是C:\\Blog\\Hexo\\source，新建CNAME文件，（注意不要加.txt，没有任何后缀名！）。然后在里面写上你的域名，保存。最后运行hexo g、hexo d上传到github。 现在就可以通过我们的个性化域名：www.xxx.com、xxx.com访问自己的博客了 xiahanlin1993 git config —global user.name “xiahanlin1993”git config —global user.email “xiahanlin1993@163.com” git config user.email ssh-keygen -t rsa -C “xiahanlin1993@163.com”","categories":[],"tags":[]}],"categories":[{"name":"实证","slug":"实证","permalink":"http://xiahanlin1993.github.io/categories/%E5%AE%9E%E8%AF%81/"},{"name":"计量","slug":"计量","permalink":"http://xiahanlin1993.github.io/categories/%E8%AE%A1%E9%87%8F/"},{"name":"资料","slug":"资料","permalink":"http://xiahanlin1993.github.io/categories/%E8%B5%84%E6%96%99/"},{"name":"事实","slug":"事实","permalink":"http://xiahanlin1993.github.io/categories/%E4%BA%8B%E5%AE%9E/"},{"name":"理论","slug":"理论","permalink":"http://xiahanlin1993.github.io/categories/%E7%90%86%E8%AE%BA/"},{"name":"生活","slug":"生活","permalink":"http://xiahanlin1993.github.io/categories/%E7%94%9F%E6%B4%BB/"},{"name":"计量方法","slug":"计量方法","permalink":"http://xiahanlin1993.github.io/categories/%E8%AE%A1%E9%87%8F%E6%96%B9%E6%B3%95/"},{"name":"研究方法","slug":"研究方法","permalink":"http://xiahanlin1993.github.io/categories/%E7%A0%94%E7%A9%B6%E6%96%B9%E6%B3%95/"}],"tags":[{"name":"Stata","slug":"Stata","permalink":"http://xiahanlin1993.github.io/tags/Stata/"},{"name":"画图","slug":"画图","permalink":"http://xiahanlin1993.github.io/tags/%E7%94%BB%E5%9B%BE/"},{"name":"实证","slug":"实证","permalink":"http://xiahanlin1993.github.io/tags/%E5%AE%9E%E8%AF%81/"},{"name":"知识","slug":"知识","permalink":"http://xiahanlin1993.github.io/tags/%E7%9F%A5%E8%AF%86/"},{"name":"生活","slug":"生活","permalink":"http://xiahanlin1993.github.io/tags/%E7%94%9F%E6%B4%BB/"},{"name":"投资","slug":"投资","permalink":"http://xiahanlin1993.github.io/tags/%E6%8A%95%E8%B5%84/"},{"name":"数据","slug":"数据","permalink":"http://xiahanlin1993.github.io/tags/%E6%95%B0%E6%8D%AE/"},{"name":"代码","slug":"代码","permalink":"http://xiahanlin1993.github.io/tags/%E4%BB%A3%E7%A0%81/"},{"name":"中国经济","slug":"中国经济","permalink":"http://xiahanlin1993.github.io/tags/%E4%B8%AD%E5%9B%BD%E7%BB%8F%E6%B5%8E/"},{"name":"中国金融","slug":"中国金融","permalink":"http://xiahanlin1993.github.io/tags/%E4%B8%AD%E5%9B%BD%E9%87%91%E8%9E%8D/"},{"name":"VAR","slug":"VAR","permalink":"http://xiahanlin1993.github.io/tags/VAR/"},{"name":"SVAR","slug":"SVAR","permalink":"http://xiahanlin1993.github.io/tags/SVAR/"},{"name":"TVAR","slug":"TVAR","permalink":"http://xiahanlin1993.github.io/tags/TVAR/"},{"name":"FAVAR","slug":"FAVAR","permalink":"http://xiahanlin1993.github.io/tags/FAVAR/"},{"name":"Matlab","slug":"Matlab","permalink":"http://xiahanlin1993.github.io/tags/Matlab/"},{"name":"工具","slug":"工具","permalink":"http://xiahanlin1993.github.io/tags/%E5%B7%A5%E5%85%B7/"},{"name":"Dynare","slug":"Dynare","permalink":"http://xiahanlin1993.github.io/tags/Dynare/"},{"name":"RBC","slug":"RBC","permalink":"http://xiahanlin1993.github.io/tags/RBC/"},{"name":"DSGE","slug":"DSGE","permalink":"http://xiahanlin1993.github.io/tags/DSGE/"},{"name":"信息","slug":"信息","permalink":"http://xiahanlin1993.github.io/tags/%E4%BF%A1%E6%81%AF/"},{"name":"Local projection","slug":"Local-projection","permalink":"http://xiahanlin1993.github.io/tags/Local-projection/"},{"name":"DID PSM RDD ML CI","slug":"DID-PSM-RDD-ML-CI","permalink":"http://xiahanlin1993.github.io/tags/DID-PSM-RDD-ML-CI/"}]}